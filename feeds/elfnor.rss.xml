<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Look Think Make</title><link>http://www.elfnor.com/</link><description></description><atom:link href="http://www.elfnor.com/feeds/elfnor.rss.xml" rel="self"></atom:link><lastBuildDate>Sun, 22 Mar 2015 22:00:00 +1300</lastBuildDate><item><title>Structure Synth meets Sverchok - Animation</title><link>http://www.elfnor.com/structure-synth-meets-sverchok-animation.html</link><description>&lt;p&gt;&lt;img alt="still from fern  animation" src="/images/fern_anim_still_05.png" /&gt;&lt;/p&gt;
&lt;p&gt;In the previous two posts (&lt;a href="http://www.elfnor.com/structure-synth-meets-sverchok-generative-art-inside-blender.html"&gt;Generative Art in Blender&lt;/a&gt; and &lt;a href="http://www.elfnor.com/structure-synth-meets-sverchok-mesh-mode.html"&gt;Mesh Mode&lt;/a&gt; I introduced the &lt;a href="http://nikitron.cc.ua/sverchok_en.html"&gt;Sverchok&lt;/a&gt; scripted node I'd written to implement &lt;a href="http://structuresynth.sourceforge.net/"&gt;Structure Synth&lt;/a&gt; generative art or lsystems inside Blender.&lt;/p&gt;
&lt;p&gt;Following &lt;a href=""&gt;Martinius's suggestion&lt;/a&gt; I've now exposed parameters in the xml rule definition to the Sverchok node tree so we can do animation of Structure Synth lsystems inside Blender.&lt;/p&gt;
&lt;p&gt;Here's an example:&lt;/p&gt;
&lt;iframe src="https://player.vimeo.com/video/123063760?title=0&amp;byline=0&amp;portrait=0" width="500" height="375" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;p&gt;&lt;a href="https://vimeo.com/123063760"&gt;Pounamu Fern Animation&lt;/a&gt; from &lt;a href="https://vimeo.com/user38620121"&gt;elfnor&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;p&gt;As before, to use the generative art node in Blender first install the &lt;a href="http://nikitron.cc.ua/sverchok_en.html"&gt;Sverchok&lt;/a&gt; addon. Download the lsystem code from &lt;a href="https://github.com/elfnor/lsystem"&gt;github&lt;/a&gt;. Then load the three python files in the Blender directory (&lt;code&gt;LSystem_blender.py, GA_xml.py, GA_node.py&lt;/code&gt;) as separate text blocks into a blend file. Add a "Scripted Node" to a Sverchok node tree. On the node select the &lt;code&gt;GA_node.py&lt;/code&gt; code from the lower drop down. Then click the plugin icon to the right of this field. The node should turn blue with some inputs and outputs.&lt;/p&gt;
&lt;p&gt;The latest version now has an additional input "variables". &lt;/p&gt;
&lt;p&gt;The first step to animating the lsystem is to edit the lsystem definition in the xml text in &lt;code&gt;GA_xml.py&lt;/code&gt; to define which values becomes variables. The value for any of the transforms in the file can be replaced with a pair of curly braces:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;transforms&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;tx 0.5 rx 20 sa 0.9&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;becomes&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;transforms&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;tx {} rx 20 sa 0.9&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To illustrate this here is the xml definition and the node diagram for the fern animation.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;Library[&amp;quot;FernVars&amp;quot;] = &amp;quot;&amp;quot;&amp;quot;
&lt;span class="nt"&gt;&amp;lt;rules&lt;/span&gt; &lt;span class="na"&gt;max_depth=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;2000&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;entry&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt;  &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curl1&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;  
       &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt;  &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curl2&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;      
    &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;

    &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curl1&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;max_depth=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;60&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;rx {} tz 1.5 s 0.9 0.9 1.0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curl1&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;instance&lt;/span&gt; &lt;span class="na"&gt;shape=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;box&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;        
    &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;

    &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curl2&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;max_depth=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;40&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;rx {} tz 1.5 s 0.9 0.9 1.0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curl2&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tx 0.1 ty -0.45 ry 40 sa 0.25&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curlsmall&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;     
    &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;    

    &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curlsmall&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;max_depth=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;40&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;rx 2*{} tz 2.7 s 0.9 0.9 1.0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curlsmall&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;instance&lt;/span&gt; &lt;span class="na"&gt;shape=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;box&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;     
    &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;    
&lt;span class="nt"&gt;&amp;lt;/rules&amp;gt;&lt;/span&gt;
&amp;quot;&amp;quot;&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="node diagram for fern animation" src="/images/GA_Fern_animation_03.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;For this animation the index number of the current frame in the animation is translated from the range 1 to 250 to the range 16 to 6 via the formula node  and wired into the "variables" input of the "GA_node". This cause the fern to unwind as the animation proceeds. The separate objects are joined into one using the "Mesh Join" node and this output sent to the "Bmesh Viewer Draw" node. &lt;/p&gt;
&lt;p&gt;If you want to animate more than one parameter use index numbers (starting with 0) inside the braces:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;transforms&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;tx {0} rx {1} sa {2}&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;With multiple parameters a "List Join" node is used to make a list to use as the "variables" input of the "GA_node".&lt;/p&gt;
&lt;p&gt;&lt;img alt="node diagram with list join" src="/images/GA_node-variables_attributes.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;If not enough variables are provided the last one is repeated as many times as required.&lt;/p&gt;
&lt;p&gt;Simple maths can also be use in the transforms definition. This has been used above in the "curlsmall" rule. The rx rotation of the transform will always be twice that of the rx rotation in the "curl1" and "curl2" rules.&lt;/p&gt;
&lt;p&gt;There cannot be any spaces in any maths expressions for the rotation, translation or scale parameters when using a transforms attribute string as above.  Instead of listing all the transforms in one attribute string each transform can now have its own string. This allows more complicated expressions to be included. &lt;/p&gt;
&lt;p&gt;transforms as single attribute (no spaces allowed in maths expression)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;call&lt;/span&gt; &lt;span class="n"&gt;transforms&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tx 1 rz -1*{0} ry {1}&amp;quot;&lt;/span&gt; &lt;span class="n"&gt;rule&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;R1&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;each transform with its own attribute (can have spaces)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;call&lt;/span&gt; &lt;span class="n"&gt;tx&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;1&amp;quot;&lt;/span&gt; &lt;span class="n"&gt;rz&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;-1 * {0}&amp;quot;&lt;/span&gt; &lt;span class="n"&gt;ry&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;{1}&amp;quot;&lt;/span&gt; &lt;span class="n"&gt;rule&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;R1&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;All this is implemented by first using python's string format method to substitute in the variable value from the node input. Then the resulting string is passed to python's &lt;code&gt;eval()&lt;/code&gt; function. The string must evaluate to a single number (float or integer). Using &lt;code&gt;eval()&lt;/code&gt; is a potential security problem as in theory someone could put some malicious code inside an xml lsystem definition. As always don't run code from a source you don't trust.&lt;/p&gt;
&lt;p&gt;Only the transforms that take a single number that is tx, ty, tz, rx, ry, rz, sx, sy, sz and sa have been implemented using individual attributes. The ones that use triplets to specify all three translations or scales at once (t and s) can only be used in a transform string.&lt;/p&gt;
&lt;p&gt;There's room to do some very clever stuff using this ability to put short bits of code in the xml... &lt;/p&gt;
&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sun, 22 Mar 2015 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2015-03-22:structure-synth-meets-sverchok-animation.html</guid><category>make</category><category>think</category><category>blender</category><category>sverchok</category><category>structuresynth</category></item><item><title>Structure Synth meets Sverchok - Mesh mode</title><link>http://www.elfnor.com/structure-synth-meets-sverchok-mesh-mode.html</link><description>&lt;p&gt;&lt;img alt="pounamu fern" src="/images/fern_30.png" /&gt;&lt;/p&gt;
&lt;p&gt;In the previous &lt;a href="http://www.elfnor.com/structure-synth-meets-sverchok-generative-art-inside-blender.html"&gt;post&lt;/a&gt; I introduced the &lt;a href="http://nikitron.cc.ua/sverchok_en.html"&gt;Sverchok&lt;/a&gt; scripted node I'd written to implement &lt;a href="http://structuresynth.sourceforge.net/"&gt;Structure Synth&lt;/a&gt; generative art or lsystems inside Blender.&lt;/p&gt;
&lt;p&gt;In this post I'll cover a couple of features I've added to the basic node.&lt;/p&gt;
&lt;h2&gt;Mask output&lt;/h2&gt;
&lt;p&gt;An xml rule set for the lsystem can have different objects in different instances. In the xml below there are two versions of the "R1" rule. These will be called randomly. The two different rules have opposite signs for the "ry" transform. This will cause wobbles in the structure. When it wobbles one way "s1" is added to the list of shapes and when it wobbles the other way "s2" is added.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;rules&lt;/span&gt; &lt;span class="na"&gt;max_depth=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;20&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;entry&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt; &lt;span class="na"&gt;count=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;100&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;rx 3.6&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;R1&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;R1&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;sa 0.9 ry 6 tz 1&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;R1&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;instance&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;s 0.2 0.5 1&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;shape=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;s1&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;R1&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;sa 0.9 ry -6 tz 1&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;R1&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;instance&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;s 0.2 0.5 1&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;shape=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;s2&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/rules&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The names of these objects don't matter, they can be called anything in the xml.&lt;code&gt;LSystem_blender.py&lt;/code&gt; passes the names to the node as strings. The node then converts these strings to integers (that is (0, 1) for two different objects, (0, 1, 2) for three objects etc.). This mask can be used as input to a "Mask List" node to separate the matrices into two lists as shown below. This is simple for two objects but is a bit more complicated but doable for more.&lt;/p&gt;
&lt;p&gt;The "Levels List" on the "Mask List" node needs to be set to "2". That is because the outputs of the GA_node have been set up as a 2 level list. The first level corresponds to each arm of sub-part of the structure. The second level contains the actual output values. Examine the output with a "Viewer Text" node to help understand this.&lt;/p&gt;
&lt;p&gt;&lt;img alt="GA node diagram with mask list" src="/images/mask_demo_01.blend.png" /&gt;&lt;/p&gt;
&lt;h2&gt;Mesh output&lt;/h2&gt;
&lt;p&gt;Using the matrices output allows a separate object to be placed at each location. The vertices input and the mesh (vertices, edges, faces) output "skins" the mesh into a much smaller number of objects. The vertices input should be a list of vertices such as that generated by the "Circle" node. It could also be a circle type object taking from the scene using the "Objects In" node. The list of vertices should be in order so they can be made into a ring with the last vertex joined to the first. That ring dosen't have to be planar.&lt;/p&gt;
&lt;p&gt;If the vertices are taken from an object in the scene the vertices can be repositioned in "EDIT" and the structure updated by going to "OBJECT" mode then clicking the "Update Node Tree" button.&lt;/p&gt;
&lt;p&gt;&lt;img alt="GA tube nodes and render/screenshot" src="/images/Fern.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;The output will not always be one mesh. If the rule set ends one 'arm' and goes back to start another 'arm' these two sub-parts will be separate meshes. Sometimes the mesh does not turn out how you would like. This can often be fixed by changing the rule set. &lt;/p&gt;
&lt;p&gt;Often a mesh tube will turn out flat rather than being tube like. This can usually be fixed by either rotating the vertex ring in the scene or by adding a rotation transform to the "instance" commands in the rule set. &lt;/p&gt;
&lt;p&gt;For example change &lt;code&gt;&amp;lt;instance shape="s1"/&amp;gt;&lt;/code&gt; to &lt;code&gt;&amp;lt;instance transfroms="ry 90" shape="s1"/&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;In other cases the mesh can be connected in the wrong order.&lt;/p&gt;
&lt;p&gt;My first attempt at the Fern structure had this effect.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;rules&lt;/span&gt; &lt;span class="na"&gt;max_depth=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;2000&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;entry&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt;  &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curl&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;      
    &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;

    &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curl&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;max_depth=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;80&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;rx 12.5 tz 0.9 s 0.98 0.95 1.0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curl&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;instance&lt;/span&gt; &lt;span class="na"&gt;shape=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;box&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;       
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tx 0.1 ty -0.45 ry 40 sa 0.25&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curlsmall&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;  
    &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;

    &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curlsmall&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;max_depth=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;80&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;rx 25 tz 1.2 s 0.9 0.9 1.0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curlsmall&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;instance&lt;/span&gt; &lt;span class="na"&gt;shape=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;box&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;     
    &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;

&lt;span class="nt"&gt;&amp;lt;/rules&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="fern wrong" src="/images/fern_wrong.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;The following xml produces the result I was after that's shown with the node diagram above.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;rules&lt;/span&gt; &lt;span class="na"&gt;max_depth=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;2000&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;entry&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt;  &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curl1&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;  
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt;  &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curl2&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;      
    &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;

    &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curl1&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;max_depth=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;80&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;rx 12.5 tz 0.9 s 0.98 0.95 1.0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curl1&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;instance&lt;/span&gt; &lt;span class="na"&gt;shape=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;box&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;        
    &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;

    &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curl2&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;max_depth=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;80&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;rx 12.5 tz 0.9 s 0.95 0.95 1.0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curl2&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tx 0.1 ty -0.45 ry 40 sa 0.25&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curlsmall&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;     
    &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;    

    &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curlsmall&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;max_depth=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;80&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;rx 25 tz 1.2 s 0.9 0.9 1.0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;curlsmall&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;instance&lt;/span&gt; &lt;span class="na"&gt;shape=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;box&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;     
    &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;    
&lt;span class="nt"&gt;&amp;lt;/rules&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Both sets of xml rules produce the same list of matrices just in a different order.&lt;/p&gt;
&lt;p&gt;The mesh output is very useful as further mesh operations or modifiers such as "Subdivision Surface" can then be used. Sub meshes can be joined together (CTRL-J) or booleans are sometimes successful if a single mesh is really required.&lt;/p&gt;
&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sun, 15 Mar 2015 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2015-03-15:structure-synth-meets-sverchok-mesh-mode.html</guid><category>make</category><category>think</category><category>blender</category><category>sverchok</category><category>structuresynth</category></item><item><title>Structure Synth meets Sverchok - Generative Art inside Blender</title><link>http://www.elfnor.com/structure-synth-meets-sverchok-generative-art-inside-blender.html</link><description>&lt;p&gt;&lt;img alt="Nouveau Dr Seuss" src="/images/seuss_nouveu_11.png" /&gt;&lt;/p&gt;
&lt;p&gt;After using the &lt;a href="http://www.elfnor.com/simple-sverchok-05-interpolate-and-iterate-matrix.html"&gt;"Matrix Iterate"&lt;/a&gt; node to generate some of the simpler structures from &lt;a href="http://structuresynth.sourceforge.net/"&gt;Structure Synth&lt;/a&gt;. I started to think about how to implement more of Structure Synth directly in Blender. It turned out to be remarkably simple using a scripted node and some existing python code.&lt;/p&gt;
&lt;p&gt;Structure Synth uses a domain specific language called eisenscript to define a design grammar to construct 3D structures (LSystems). Here's the eisenscript for a structure with 6 spirals.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;set&lt;/span&gt; &lt;span class="n"&gt;maxdepth&lt;/span&gt; &lt;span class="mi"&gt;400&lt;/span&gt;

&lt;span class="n"&gt;r0&lt;/span&gt;

&lt;span class="n"&gt;rule&lt;/span&gt; &lt;span class="n"&gt;r0&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;rz&lt;/span&gt; &lt;span class="mi"&gt;120&lt;/span&gt;  &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="n"&gt;R1&lt;/span&gt;
  &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;rz&lt;/span&gt; &lt;span class="mi"&gt;120&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="n"&gt;R2&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="n"&gt;rule&lt;/span&gt; &lt;span class="n"&gt;R1&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="mf"&gt;1.3&lt;/span&gt; &lt;span class="n"&gt;rx&lt;/span&gt; &lt;span class="mf"&gt;1.57&lt;/span&gt; &lt;span class="n"&gt;rz&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt; &lt;span class="n"&gt;ry&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="mf"&gt;0.99&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="n"&gt;R1&lt;/span&gt;
  &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="n"&gt;sphere&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="n"&gt;rule&lt;/span&gt; &lt;span class="n"&gt;R2&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.3&lt;/span&gt; &lt;span class="n"&gt;rz&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt; &lt;span class="n"&gt;ry&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="mf"&gt;0.99&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="n"&gt;R2&lt;/span&gt;
  &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;  &lt;span class="n"&gt;sphere&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="matrix iterate sample image" src="/images/matrix_iterate_13.png" /&gt;&lt;/p&gt;
&lt;p&gt;An eisenscript consists of a list of rules. Each rule contains a set of instructions. That instruction can either be to place an object or to call another rule. That call can be to to the rule doing the calling in a recursive fashion. Each instruction also has an associated transform to scale rotate or move the current coordinate system. The original eisenscript also allowed transforms on the colour and transparency of the object.&lt;/p&gt;
&lt;p&gt;The above structure can be easily implemented in Sverchok using the "Matrix Iterate" node as shown in the &lt;a href="http://www.elfnor.com/simple-sverchok-05-interpolate-and-iterate-matrix.html"&gt;previous post&lt;/a&gt;. &lt;/p&gt;
&lt;p&gt;The interesting bit is that each rule can have multiple definitions that are called randomly according to the weight assigned to each rule definition. This allows structures with random branches and other complexities. This random choice of rule is bit harder to implement directly in Sverchok nodes but I'm thinking about it...&lt;/p&gt;
&lt;p&gt;In the meantime searching the web, I couldn't find anyone who had included a parser for eisenscript files in Blender (there is one in &lt;a href="http://meshlab.sourceforge.net/"&gt;MeshLab&lt;/a&gt;), but I did find that &lt;a href="http://github.prideout.net/"&gt;Little Grasshopper&lt;/a&gt; (aka Philip Rideout) had written some &lt;a href="https://github.com/prideout/lsystem"&gt;scripts&lt;/a&gt; in python go and c++ to work with Structure Synth type LSystems and RenderMan. &lt;/p&gt;
&lt;p&gt;He uses an xml form of eisenscript to define the design grammar. The above script looks like this in Philip's xml:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;rules&lt;/span&gt; &lt;span class="na"&gt;max_depth=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;400&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;entry&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt; &lt;span class="na"&gt;count=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;3&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;rz 120&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;R1&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt; &lt;span class="na"&gt;count=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;3&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;rz 120&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;R2&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;R1&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tx 1.3 rx 1.57 rz 6 ry 3 sa 0.99&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;R1&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;instance&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;sa 4&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;shape=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;sphere&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;R2&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;call&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tx -1.3 rz 6 ry 3 sa 0.99&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;R2&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;instance&lt;/span&gt; &lt;span class="na"&gt;transforms=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;sa 4&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;shape=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;sphere&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/rules&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;From Little Grasshopper's &lt;a href="http://prideout.net/blog/?p=44"&gt;post&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Every description must contain at least one rule named entry; this is the starting point for the evaluator. Note the mini-language used for specifying transformations. It’s a simple string consisting of translations, rotations, and scaling operations. For example, &lt;code&gt;tx n&lt;/code&gt;  means “translate n units along the x-axis”, &lt;code&gt;ry theta&lt;/code&gt;  means “rotate theta degrees about the y-axis”, and &lt;code&gt;sa f&lt;/code&gt; means “scale all axes by a factor of f“.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In Philip's github &lt;a href="https://github.com/prideout/lsystem"&gt;repo&lt;/a&gt; he provides a python module (&lt;code&gt;LSystem.py&lt;/code&gt;) that parses the above type of xml strings and outputs a list of matrices and the name of the object to place at the location, scale and rotation defined by the matrix. This code is beautifully separated from any code used to implement or render the geometry and is perfect to incorporate in &lt;a href="http://nikitron.cc.ua/sverchok_en.html"&gt;Sverchok&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The module &lt;code&gt;LSystem.py&lt;/code&gt; has two dependencies, &lt;code&gt;elementtree&lt;/code&gt; for parsing the xml and &lt;code&gt;euclid&lt;/code&gt; for the matrix multiplication. I replaced &lt;code&gt;elementtree&lt;/code&gt; with &lt;code&gt;xml.etree.cElementTree&lt;/code&gt; avaliable in the standard python included with Blender, and replaced &lt;code&gt;euclid&lt;/code&gt; with the Blender &lt;code&gt;mathutils&lt;/code&gt; module. &lt;/p&gt;
&lt;p&gt;I also added a break to the code on reaching maximum number of objects as I kept crashing/locking Blender/Sverchok when I got more then a few 10s of thousands of objects. &lt;/p&gt;
&lt;p&gt;From there all we need is a simple "Scripted Node" in Sverchok with the following code:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sverchok.data_structure&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Matrix_listing&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;LSystem_blender&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;LSystem&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;GA_xml&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;imp&lt;/span&gt;

&lt;span class="n"&gt;max_mats&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;5000&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;sv_main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rseed&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="n"&gt;in_sockets&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;s&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;rseed&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rseed&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;

    &lt;span class="n"&gt;imp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reload&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GA_xml&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;tree&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GA_xml&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Library&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Default&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;lsys&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;LSystem&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;LSystem&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tree&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max_mats&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;shapes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;lsys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;evaluate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;seed&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rseed&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;mats&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;shape&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;shapes&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; 
    &lt;span class="n"&gt;mat_out&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;  &lt;span class="n"&gt;Matrix_listing&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mats&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;out_sockets&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;m&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;matrices&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mat_out&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;in_sockets&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;out_sockets&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note: The node code above is given to show how simple a Sverchok scripted node can be. I have since updated the code on my repository to do some other stuff.&lt;/p&gt;
&lt;p&gt;See &lt;a href="http://sverchok.readthedocs.org/en/latest/nodes/generator/scripted_intro.html"&gt;here&lt;/a&gt; if you need help working with the "Scripted Node" in Sverchok.&lt;/p&gt;
&lt;p&gt;That was too simple and it just works! It's fast too. Before doing this I played around trying to implement the object generation directly in Blender python and had trouble getting fast enough code, let alone getting lost in &lt;code&gt;bpy.ops&lt;/code&gt; and &lt;code&gt;bpy.context&lt;/code&gt; calls.&lt;/p&gt;
&lt;p&gt;The latest version of &lt;code&gt;LSystem_blender.py&lt;/code&gt; and my Sverchok nodes is available on my github &lt;a href="https://github.com/elfnor/lsystem"&gt;repo&lt;/a&gt; (forked from prideout/lsystem).&lt;/p&gt;
&lt;p&gt;To use the GA node in Blender first install the &lt;a href="http://nikitron.cc.ua/sverchok_en.html"&gt;Sverchok&lt;/a&gt; addon. Download the lsystem code from &lt;a href="https://github.com/elfnor/lsystem"&gt;github&lt;/a&gt;. Then load the three python files in the Blender directory (&lt;code&gt;LSystem_blender.py, GA_xml.py, GA_node.py&lt;/code&gt;) as separate text blocks into a blend file. Add a "Scripted Node" to a Sverchok node tree. On the node select the &lt;code&gt;GA_node.py&lt;/code&gt; code from the lower drop down. Then click the plugin icon to the right of this field. The node should turn blue with some inputs and outputs. Wire the matrices output to a "Viewer Draw" node and you should see some geometry as below.&lt;/p&gt;
&lt;p&gt;&lt;img alt="GA node diagram" src="/images/Lsystem_pipe_05.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;The node has an input "rseed" which is used to set the random number generator. For a rule set that includes multiple definitions of rules, changing this will change the structure. &lt;/p&gt;
&lt;p&gt;The Library of xml rule sets is stored in the &lt;code&gt;GA_xml.py&lt;/code&gt; module. This allows you to easily change the rule set. In the last line of code &lt;code&gt;Library["Default"] = Library["Tree"]&lt;/code&gt; change &lt;code&gt;Tree&lt;/code&gt; to any of the other examples. You can also change the rules or add new ones. The geometry should change in the 3D View after clicking the "Update Node Tree" button in the Sverchok panel.&lt;/p&gt;
&lt;p&gt;My computer chokes if I try to feed too many matrices into Sverchok. The &lt;code&gt;max matrices&lt;/code&gt; sets a limit in the node to the number of matrices calculated and displayed. Change this depending on you and your computer's ability to cope with lockups and crashes. Note that the nodes get recalculated when you open a blend file. Saving a blend file with an LSystem that has a long calculating time will make it slow to open.&lt;/p&gt;
&lt;p&gt;Using the matrices output allows a separate object to be placed at each location. The vertices input and the mesh (vertices, edges, faces) output "skins" the mesh into a much smaller number of objects. The mask node can be used if the rule set has more than one type of object. I'll describe these further in the next post but here's a preview of the mesh mode (with a subdivison modifier applied).&lt;/p&gt;
&lt;p&gt;&lt;img alt="GA tube nodes and render/screenshot" src="/images/Fern.blend.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sun, 08 Mar 2015 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2015-03-08:structure-synth-meets-sverchok-generative-art-inside-blender.html</guid><category>make</category><category>think</category><category>blender</category><category>sverchok</category><category>structuresynth</category></item><item><title>Shaders for Sverchok 03 - Image Texture Node</title><link>http://www.elfnor.com/shaders-for-sverchok-03-image-texture-node.html</link><description>&lt;p&gt;&lt;img alt="random desert blocks" src="/images/random_block_image_pos9.png" /&gt;&lt;/p&gt;
&lt;p&gt;This is the third of my Shaders for Sverchok tutorials. They follow on from  my &lt;a href="http://elfnor.com/tag/sverchok.html"&gt;Simple Sverchok&lt;/a&gt; series. The Shaders for Sverchok posts are mostly about Blender Cycles Materials and how I apply them to my &lt;a href="http://nikitron.cc.ua/sverchok_en.html"&gt;Sverchok&lt;/a&gt; models rather than directly about Sverchok nodes.&lt;/p&gt;
&lt;p&gt;This post will show how to take the colours from an image and apply them to objects in a scene. It uses the object location given by the "Object Info" node, but see &lt;a href=""&gt;Shaders for Sverchok 01&lt;/a&gt; for other ways to use this node.  Of course this technique is useful for scenes with lots of objects generated by the dupliverts for example. Its a great way to try out different colour schemes on a scene very quickly.&lt;/p&gt;
&lt;p&gt;The cycles nodes for this is very simple.&lt;/p&gt;
&lt;p&gt;&lt;img alt="position to image nodes" src="/images/random_blocks_blog1.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;The object position is fed into the vector input of an "Image Texture" node via a "Mapping" node. As usual the input of the vector for the "Image Texture" node should be between (0, 0, 0) and (1, 1, 1). The colour at the top right of the image will be accessed with a vector  (1, 1, 0). The colour of the image at the bottom left will be accessed with a vector (0, 0, 0). Use the mapping node to change the location vectors into this range. If the values are outside the range they will loop around as if the image was tiled. For example (0.2, 0.2, 0) and (1.2, 1.2, 0) will map to the same place in the image. &lt;/p&gt;
&lt;p&gt;It makes sense to use the "Point" option of the "Mapping" node. With this option&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;output&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Scale&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;input&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;Location&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The Texture, Vector and Normal options do other things. To rotate the image colours about the scene use the "Z" value of the rotation field.&lt;/p&gt;
&lt;p&gt;Choose the image to use in the "Image Texture" node. This can be something especially created for the scene to paint particular colours to particular objects, the output of some other Blender render, or a landscape or other photo chosen for its colour balance.&lt;/p&gt;
&lt;p&gt;The alpha channel of the image can be used to effect transparency or any other input in the cycles nodes.&lt;/p&gt;
&lt;p&gt;It's possible to quickly change the colour scheme of a composition to try out different looks or to have very fine detail control of object colour by drawing over a render or screenshot of the scene taken looking down from +Z.&lt;/p&gt;
&lt;hr /&gt;
&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sat, 07 Mar 2015 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2015-03-07:shaders-for-sverchok-03-image-texture-node.html</guid><category>make</category><category>think</category><category>blender</category><category>sverchok</category></item><item><title>Shaders for Sverchok 02 - Vertex Colors</title><link>http://www.elfnor.com/shaders-for-sverchok-02-vertex-colors.html</link><description>&lt;p&gt;&lt;img alt="nested cubes demo of sverchok vertex colors" src="/images/vertex_color_blog_21.png" /&gt;&lt;/p&gt;
&lt;p&gt;This is the second of my Shaders for Sverchok tutorials. They follow on from  my &lt;a href="http://elfnor.com/tag/sverchok.html"&gt;Simple Sverchok&lt;/a&gt; series. The Shaders for Sverchok posts are mostly about Blender Cycles Materials and how I apply them to my &lt;a href="http://nikitron.cc.ua/sverchok_en.html"&gt;Sverchok&lt;/a&gt; models rather than directly about Sverchok nodes.&lt;/p&gt;
&lt;p&gt;This post will show how to apply vertex colors to a mesh with Blender python and then how to access the vertex color map to apply color or other variation to a material in Blender cycles.&lt;/p&gt;
&lt;p&gt;From this &lt;a href="http://blenderartists.org/forum/showthread.php?272679-Addon-WIP-Sverchok-parametric-nodes-for-architects&amp;amp;p=2813513&amp;amp;viewfull=1#post2813513"&gt;sneak preview&lt;/a&gt; it looks like Vertex Colors may be avaliable soon as Sverchok node, but currently I use a short bit of code to cover this step. I'll update this post when the node becomes available in a general release.&lt;/p&gt;
&lt;p&gt;Using vertex colors is easiest if the Sverchok output is a single mesh. If after baking your Sverchok output you have multiple meshes try the "Apply matrix to mesh" node or occasionally the "Mesh Join" node to consolidate everything into one mesh. It is also possible to select the objects after creation and join them with CTRL-J. I prefer using the "Apply Matrix" node as this preserves the creation order of the mesh elements. &lt;/p&gt;
&lt;p&gt;Vertex colors are normally applied by painting them on in "Vertex Paint" mode. To get them to show as painted in Blender cycles use a material as shown below. The "Attribute" node is found on the "Input" panel of the cycles nodes. The "Name" has to be set to the same as the name of the "Vertex Colors" layer found under the Objects Data panel.&lt;/p&gt;
&lt;p&gt;&lt;img alt="vertex color in blender" src="/images/vertex_colors_screen.png" /&gt;&lt;/p&gt;
&lt;p&gt;Rather than paint on our colors we're going to assign them to the vertices using Blender python. Each vertex in each face has its own vertex color. This means a vertex can have several different colors, one for each face it's on. The following code snippet gives a different vertex color for each sub-element of a mesh. Say for instance we've used a "Matrix Iterate" node to make 11 copies of a Box (10 iterations produces 11 copies). Then the code snippet will make all the vertices in each box the same color but each box will have a different color.&lt;/p&gt;
&lt;p&gt;&lt;img alt="nested boxes nodes" src="/images/nested_box_nodes.png" /&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;set vertex color to shades of grey, each cube in sverchok structure has its own shade&lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;bpy&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;random&lt;/span&gt;

&lt;span class="c"&gt;# start in object mode with object selected&lt;/span&gt;
&lt;span class="c"&gt;#need to set N to the number of sub-elements in mesh&lt;/span&gt;
&lt;span class="n"&gt;N&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;11&lt;/span&gt; &lt;span class="c"&gt;# no of elements&lt;/span&gt;

&lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;active_object&lt;/span&gt;
&lt;span class="n"&gt;mesh&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;mesh&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vertex_colors&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;mesh&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vertex_colors&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;color_layer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mesh&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vertex_colors&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;active&lt;/span&gt;

&lt;span class="n"&gt;nvert&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;color_layer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;N&lt;/span&gt;
&lt;span class="n"&gt;inc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;N&lt;/span&gt;
&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;poly&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;mesh&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;polygons&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;idx&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;poly&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;loop_indices&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;rgb&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;nvert&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;inc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;nvert&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;inc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;nvert&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;inc&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;color_layer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rgb&lt;/span&gt;
        &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Before running the above code you need to set N in line 9 of the code to the number of sub-elements in the mesh. The code sets each sub-element to a shade of grey. You can fiddle with the code to produce different vertex colors, but I prefer to manipulate the color later with cycles nodes as this give me more flexibility.&lt;/p&gt;
&lt;p&gt;After running the code check in the Objects data panel to find the name of the vertex color layer. By default its "Col". Use this in a attribute node to access the values for the vertex color. This color can then be separated out into rgb components and used to vary the material properties across the sub-elements in the mesh. In the node diagram below it's used to control the "fac" of a "Mix Shader" to mix between two materials.&lt;/p&gt;
&lt;h2&gt;&lt;img alt="vertex color node mix" src="/images/nested_box_cycles_nodes.png" /&gt;&lt;/h2&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Thu, 26 Feb 2015 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2015-02-26:shaders-for-sverchok-02-vertex-colors.html</guid><category>make</category><category>think</category><category>blender</category><category>sverchok</category></item><item><title>Shaders for Sverchok 01 - Object Info node.</title><link>http://www.elfnor.com/shaders-for-sverchok-01-object-info-node.html</link><description>&lt;p&gt;&lt;img alt="hydrangea abstract" src="/images/abstract_21.png" /&gt;&lt;/p&gt;
&lt;p&gt;I've called this post Shaders for Sverchok and it follows on from  my &lt;a href="http://elfnor.com/tag/sverchok.html"&gt;Simple Sverchok&lt;/a&gt; series. It's mostly about Blender Cycles Materials and how I apply them to my &lt;a href="http://nikitron.cc.ua/sverchok_en.html"&gt;Sverchok&lt;/a&gt; models rather than directly about Sverchok nodes.&lt;/p&gt;
&lt;p&gt;The structures I've been producing with Sverchok can have many elements. The one that featured in the title image for the &lt;a href="http://www.elfnor.com/simple-sverchok-05-interpolate-and-iterate-matrix.html"&gt;last post&lt;/a&gt; has 2400 copies of the box element. With the position, rotation and scale of each object being varied parametrically it would be neat to also systematically vary the colour or transparency of the elements. Applying individual materials to 2400 elements by hand is well beyond my pain threshold. The techniques used here to make systematic or random material variations can also be used for models with many elements produced in other ways, for example using dupliverts.&lt;/p&gt;
&lt;h1&gt;Object Info Node&lt;/h1&gt;
&lt;p&gt;Change the Node Editor window to show Shaders (materials). Make sure Cycles is chosen as the render engine. Start with an "Object Info" node ("Add &amp;gt; Input &amp;gt; Object Info"). This gives information  about the object or objects a Material is applied to. If the elements you want to shade are combined into a single mesh they will need to be separated. In edit mode a mesh can be separated into objects by hitting "P" and selecting "By loose parts".  It's a good idea to apply a material to the mesh before separating parts. This way all parts will have the same material which can be edited later. It is also possible to separate loose parts using the "Separate Loose Parts" node. &lt;/p&gt;
&lt;p&gt;Tip: In Blender if you need to apply the same material to lots of different objects, join them together, apply the material and then separate by parts again.&lt;/p&gt;
&lt;h2&gt;Location based Shading&lt;/h2&gt;
&lt;p&gt;The first output of the "Object Info" node is location. This gives the (x, y, z) coordinates of the object the material is applied to. Unfortunately the Shader nodes do not have the wonderfully useful "Viewer text" and "Stethoscope" nodes that Sverchok does. Without these we're running a bit blind and have to read the documentation a bit more and do lots of small bits of math.&lt;/p&gt;
&lt;p&gt;If the elements you want to shade were separated from a single mesh they may all have the same location. To fix this, select all the objects and "Object &amp;gt; Transform &amp;gt; Origin to Geometry". This will give each object its own location at the centre of its own mesh.&lt;/p&gt;
&lt;p&gt;The location of the object can be sent directly to the color input of any shader node. However the shader node expects the RGB values to be between 0 and 1. One easy way to do this is rescale your scene so that all the geometry lies in a box between (0, 0, 0) and (1, 1, 1). The colour of objects in this space will shade from black at the (0, 0, 0) corner to white at the far (1, 1, 1) corner. Objects in the (1, 0, 0) corner will be red and so on. In the following scene all objects have the same material. The wireframe cube extends from (0, 0, 0) to (1, 1, 1). It is a neutral grey colour because its location is (0.5, 0.5, 0.5). &lt;/p&gt;
&lt;p&gt;&lt;img alt="spiral in color cube" src="/images/spirals_in_color_cube_01.png" /&gt;&lt;/p&gt;
&lt;p&gt;Rather than scaling the geometry to lie within the (0,0,0) to (1,0,0) box we can scale the x, y, z coordinates within our node diagram.&lt;/p&gt;
&lt;p&gt;In the following scene the spheres (dupliverted onto a torus) have locations from -1.25 to +1.25 in x and y and from -0.25 to +0.25 in z. We can use the Vector mapping node to transform these location values to the interval (0, 1).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.4&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mf"&gt;0.5&lt;/span&gt;
&lt;span class="n"&gt;g&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.4&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mf"&gt;0.5&lt;/span&gt;
&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;2.0&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mf"&gt;0.5&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Strange things happen when the rgb values are not within the range (0, 1). The top torus has no scaling bewteen the location and color while the torus on the bottom has the rgb values between (0, 1).&lt;/p&gt;
&lt;p&gt;EDIT: Jerryno's answer to my &lt;a href="http://blender.stackexchange.com/questions/26254/how-and-when-does-clipping-of-rgb-values-happen"&gt;question&lt;/a&gt; on stack exchange explains these strange things very well. &lt;/p&gt;
&lt;p&gt;&lt;img alt="torus location to rgb" src="/images/torus_color.png" /&gt;&lt;/p&gt;
&lt;p&gt;We can also use the location as an index into a "Color Ramp" node. This requires reducing the three x, y, z coordinates to a single value between (0, 1). &lt;/p&gt;
&lt;p&gt;For instance we can shade our torus radially by calculating:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;radius&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;^&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;^&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="o"&gt;^&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;give&lt;/span&gt; &lt;span class="n"&gt;radius&lt;/span&gt; &lt;span class="n"&gt;between&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.75&lt;/span&gt; &lt;span class="n"&gt;and&lt;/span&gt; &lt;span class="mf"&gt;1.25&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;fac&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;radius&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mf"&gt;1.5&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;give&lt;/span&gt; &lt;span class="n"&gt;fac&lt;/span&gt; &lt;span class="n"&gt;between&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;These calculations can be done a number of ways. Here I have used the "Normalize" node to give the radius and two "Math" nodes to do the scaling.&lt;/p&gt;
&lt;p&gt;&lt;img alt="torus radial color" src="/images/torus_radial.png" /&gt;&lt;/p&gt;
&lt;h2&gt;Object Pass Index&lt;/h2&gt;
&lt;p&gt;The second output of the "Object Info" node is labeled "Object Index". This is the same parameter that is called "Pass Index" on the Object Relations Panel. It can be set in the Objects Relations panel or in python using&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;#set each of the selected objects to a separate pass index&lt;/span&gt;
&lt;span class="n"&gt;import&lt;/span&gt; &lt;span class="n"&gt;bpy&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="n"&gt;in&lt;/span&gt; &lt;span class="n"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;selected_objects&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
     &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pass_index&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Again for input to most material nodes the pass index value will need to be scaled so it is in the interval (0, 1).&lt;/p&gt;
&lt;h2&gt;Material Pass Index&lt;/h2&gt;
&lt;p&gt;The third output of the "Object Info" node is labeled "Material Index". This output name is a little confusing as Blender has two different pass indexes (object and material) and two different material indexes (the pass index of the material and the material index of a face). Below I give an example of how to use it.  It's not that useful for scenes with a large number of objects as it requires a lot of manual steps but I've explained it here because I couldn't find a good example of using the material index of the Object info node anywhere else.&lt;/p&gt;
&lt;p&gt;The "Material Index" output of the "Object Info" node is the same parameter that is called "Pass Index" on the Settings panel of a material. &lt;/p&gt;
&lt;h3&gt;Example use of the "Material Index" of the "Object Info" node.&lt;/h3&gt;
&lt;p&gt;This uses three materials but of course you can create as many materials as required.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Start with the default cube scene and set the render engine to cycles.&lt;/li&gt;
&lt;li&gt;Create a node material such as the "mat1" shown below that uses the "Material Index" output of the "Object Info" node.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="mat1 node setup" src="/images/material_index_blog-03.blend.png" /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Select all the nodes except the "Object Info" and "Material Output" and group them&lt;/li&gt;
&lt;li&gt;Use the "go to parent node tree" button at the bottom to collapse the node group. To edit it again click on the button at the top right of the node group&lt;/li&gt;
&lt;li&gt;Select all three nodes showing and copy them to the clipboard (Ctrl-C)&lt;/li&gt;
&lt;li&gt;Create a new material and call it "mat2"&lt;/li&gt;
&lt;li&gt;Delete any nodes in the material and paste (Ctrl-V) our nodes to the material&lt;/li&gt;
&lt;li&gt;Repeat the last two steps labeling the material "mat3"&lt;/li&gt;
&lt;li&gt;You should now have 3 materials that all use the same node group. Check that there is a 3 in the number of users for the node group.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="mat1 as node group" src="/images/material_index_blog-04.blend.png" /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Select an object and give it three material slots. Place the corresponding material in each slot.&lt;/li&gt;
&lt;li&gt;For each material set the pass index to 1 , 2, or 3. (Under Materials - Settings panel).&lt;/li&gt;
&lt;li&gt;As you do this the small icon beside the material slot should change color to match the color determined by the pass index&lt;/li&gt;
&lt;li&gt;In edit mode select different faces of the object and assign a material from one of the slots.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="material index result" src="/images/material_index_blog-05.blend.png" /&gt;&lt;/p&gt;
&lt;h2&gt;Random Shading&lt;/h2&gt;
&lt;p&gt;The fourth output of the "Object Info" node is labeled  "Random". It produces a different random number between (0, 1) for each object the material is assigned to.&lt;/p&gt;
&lt;p&gt;It can be used directly as input to a "Color Ramp" node or anywhere else a single value is required. &lt;/p&gt;
&lt;p&gt;&lt;img alt="random color ramp" src="/images/color_random.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sun, 22 Feb 2015 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2015-02-22:shaders-for-sverchok-01-object-info-node.html</guid><category>make</category><category>think</category><category>blender</category><category>sverchok</category></item><item><title>Simple Sverchok 05 - Interpolate and Iterate Matrix</title><link>http://www.elfnor.com/simple-sverchok-05-interpolate-and-iterate-matrix.html</link><description>&lt;p&gt;&lt;img alt="matrix iterate sample image" src="/images/matrix_iterate_13.png" /&gt;&lt;/p&gt;
&lt;p&gt;This is part five of my introduction to &lt;a href="http://nikitron.cc.ua/sverchok_en.html"&gt;Sverchok&lt;/a&gt; the parametric node geometry add-on for Blender. Other parts can be found &lt;a href="http://elfnor.com/tag/sverchok.html"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;So far we've used various nodes to produce list of matrices that we've used to give the location, scale and rotation of objects. This post continues that idea.&lt;/p&gt;
&lt;p&gt;The "Matrix Interpolation" node takes one or two matrices as input and produces a list of matrices that describe transformations interpolated between the two matrices. If only one matrix is input the identity matrix (no transform) is used for the other matrix. This is great for example to make a whole line of objects.&lt;/p&gt;
&lt;p&gt;&lt;img alt="matrix interpolate nodes sverchok" src="/images/matrix_interpolate_nodes.png" /&gt;&lt;/p&gt;
&lt;p&gt;The input matrix could also include a scale and rotation.&lt;/p&gt;
&lt;p&gt;The "Matrix Interpolation" node can also be used to produce a list of identity matrices that are then altered by a "Matrix Deform" node. This allows non-linear variation in the object scales and rotations as shown in the example below. Here we've produced 21 identity matrices. The "Map Range" Node is used to change the values from the "Float Series" from 0 to 5 (used for the locations) to 0 to 360 (used for the angle of rotation about the Z axis). The same range is also mapped to the interval 0 to pi. The sine of this function is then used to scale the objects in the y direction.&lt;/p&gt;
&lt;p&gt;&lt;img alt="matrix interpolate node identity sverchok" src="/images/matrix_interpolation_map_03.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;EDIT: We don't really need to use a "Matrix Interpolation" node in the above example. We can replace the "Matrix Deform" node with a "Matrix In" node as shown below and acheive the same result.&lt;/p&gt;
&lt;p&gt;&lt;img alt="matrix in nodeverchok" src="/images/matrix_interpolation_map_04.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;If we want to scale and shift the objects in the same direction, for example produce a stack of diminishing sized cubes sitting on top of each other, we can't do it with linear interpolation. In the image below the gaps between each cube centre are the same size. If the cubes are to sit on top of each other the gap has to decrease along with the cube size. &lt;/p&gt;
&lt;p&gt;&lt;img alt="matrix interpolate pyramid sverchok" src="/images/pyramid_interpolate_01.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;If we scale the 1st cube (size 2 units) by 0.75 to get our 2nd cube (size 1.5 units) we then need to move the 2nd cube 1.75 units to stack it on top of the 1st cube. What we need to do here is apply a transform matrix M that does a 0.75 scale and a 1.75 unit translation to the 1st object to get our second object.&lt;/p&gt;
&lt;p&gt;V2 = M * V1&lt;/p&gt;
&lt;p&gt;Then we apply the same transform again to V2 to get V3&lt;/p&gt;
&lt;p&gt;V3 = M * V2&lt;/p&gt;
&lt;p&gt;and so on. This will stack the cubes nicely on top of each other. Since version 0.5.1.0 Sverchok has a "Iterate Matrix Transform" node that does this repeated matrix transform. Its currently in the Beta node panel.&lt;/p&gt;
&lt;p&gt;&lt;img alt="matrix iterate pyramid sverchok" src="/images/pyramid_interpolate_iterate_04.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;Adding rotations to the matrix used as input to the iterate node will quickly produce some interesting structures. Below is the node diagram for the structure in the image at the top of this post. The same structure is used as the default start up script for the &lt;a href="http://structuresynth.sourceforge.net/"&gt;Structure Synth&lt;/a&gt; application. Many of the other examples provided with Structure Synth could be used as starting points for exploration with Sverchok.&lt;/p&gt;
&lt;p&gt;&lt;img alt="structure synth default sverchok" src="/images/matrix_iterate_01_demo.blend.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sat, 31 Jan 2015 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2015-01-31:simple-sverchok-05-interpolate-and-iterate-matrix.html</guid><category>make</category><category>think</category><category>blender</category><category>sverchok</category></item><item><title>Arduino Bread Details</title><link>http://www.elfnor.com/Arduino%20Bread%20Details.html</link><description>&lt;p&gt;&lt;img alt="arduino bread" src="http://www.elfnor.com/images/arduino_bread.png" /&gt;&lt;/p&gt;
&lt;p&gt;As mentioned in a &lt;a href="http://www.elfnor.com/Arduino Bread.html"&gt;previous post&lt;/a&gt; I've been working on a project to replace the "brain" of a bread-maker with an Arduino. &lt;/p&gt;
&lt;p&gt;The aim is to separate out the different stages in the breadmaker's cycle so I can make good sourdough bread. In general the sourdough takes longer to rise than dough made using store bought dried yeast granules. The rise time can also vary depending on how the sourdough starter is on any day. Also the longer the rise time the stronger the sour flavour of the bread.&lt;/p&gt;
&lt;p&gt;This project is ongoing. Currently I have made a breadmaker with an Arduino brain where I can set up programs with my own times for any part of the breadmaker cycle. To make a loaf of sourdough, I put the ingredients in the pan and select a program that mixes and kneads the dough then keeps the pan at rise temperature indefinitely. When I've checked the bread is sufficiently risen, I stop that program and run a bake only program.  Eventually, I'd like some way of measuring the height of the dough so the Arduino can track when the bread is risen and then switch to the bake cycle. The current rise temperature is the same as for the original breadmaker cycle (~37 °C). I'll probably add an option to rise the bread at a lower temperature for longer to get a stronger sour flavour.&lt;/p&gt;
&lt;p&gt;The model of breadmaker I'm using is a fairly old Sanyo "The Bread Factory Plus" (Model SBM-20). From other people's projects I suspect many breadmakers are quite similar internally and these notes could be applicable to many other models and brands.&lt;/p&gt;
&lt;p&gt;First of all pull your breadmaker apart to see how it works. Keep all the screws and take photos during the take apart. These are great when you need to put it back together again.&lt;/p&gt;
&lt;p&gt;A breadmaker is very simple, it has a motor to turn the paddle and a heater to warm the pan and a thermistor to give the pan's temperature. There's a set of buttons and a display to select a program and start the machine. All this is controlled by a micro controller. &lt;/p&gt;
&lt;p&gt;&lt;img alt="take apart breadmaker" src="/images/bm_insides.jpeg" /&gt;&lt;/p&gt;
&lt;p&gt;In the above photo the top board contains the buttons, the display and the micro controller. The bottom board controls the motor and heater. This makes our development simple and safe. We can replace the top board where the maximum voltage is 5 V without going any where near the nasty mains voltage on the motor and heater. The 5 pin connector goes from the control board to the lower motor and heater board. The two pin connector goes to the thermistor on the side of the baking area. &lt;/p&gt;
&lt;p&gt;For safety don't plug the machine into mains voltage when it looks like the above photo. Instead put it back together as much as possible while still having access to the control board.&lt;/p&gt;
&lt;p&gt;&lt;img alt="workable breadmaker" src="/images/bm_workable.jpeg" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="control board" src="/images/control_board_original.jpeg" /&gt;&lt;/p&gt;
&lt;p&gt;Carefully poking around the 5 pin connector while the breadmaker is going, gives the following designations for the pins. Pin 1 is on the right in the above image.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;GND&lt;/span&gt;
&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="n"&gt;V&lt;/span&gt;
&lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;buzzer&lt;/span&gt;
&lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;heater&lt;/span&gt;
&lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;motor&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Pins 4 and 5 are normally held at 5V but are pulled to GND when the heater or motor are operating. Pin 3 is directly connected to a piezo buzzer.&lt;/p&gt;
&lt;p&gt;We can check the temperature sensor is a thermistor by heating the sensor up (disconnected from the board) and reading the resistance between the two contacts with a DVM. The resistance should drop with an increase in temperature. This shows the &lt;a href="http://en.wikipedia.org/wiki/Thermistor#NTC"&gt;thermistor&lt;/a&gt; has a negative temperature coefficient. The relationship between thermistor resistance and temperature will most likely be non-linear over the range of temperatures (20 °C to 230 °C) we are interested in. We could try and calibrate the thermistor at known temperatures to characterise its temperature versus resistance curve but we really only need to know the resistance at two points, the rising temperature and the baking temperature. We'll find these out by making a loaf of bread while we record what the breadmaker does.&lt;/p&gt;
&lt;h2&gt;Designing a system to record the bread maker&lt;/h2&gt;
&lt;p&gt;We will need to design a system to record the heater, motor and thermistor signals while the bread maker makes a loaf of bread. Having done this we can then duplicate those signals with our new Arduino control system. &lt;/p&gt;
&lt;p&gt;A thermistor has two connections and is usually read by micro controller using a voltage divider circuit like one of these (the thermistor can either be between the pin and ground or between +5V and the pin):&lt;/p&gt;
&lt;p&gt;&lt;img alt="thermistor read schematic" src="/images/thermistor_read_schem.png" /&gt;&lt;/p&gt;
&lt;p&gt;Checking the thermistor circuit shows pin 2 at +5V so we're looking at something like the left most schematic above. However the resistor on Pin 1 of the thermistor is connected to ground via a transistor. The base pin of this transistor is controlled via another micro controller pin. Below is a simplified schematic.&lt;/p&gt;
&lt;p&gt;&lt;img alt="thermistor original" src="/images/thermistor_original.png" /&gt;&lt;/p&gt;
&lt;p&gt;What's happening here is that the micro controller regularly enables the voltage divider via a set of clock pulses sent on the control pin. If we measure the voltage on Pin 1 of the thermistor it will jump between the correct voltage (when the control pin is high) and ground. &lt;/p&gt;
&lt;p&gt;This makes the design of the recording system a little bit harder. We could try to synchronize our measurements with the clock signal on the microelectronic but as we're mainly interested in the steady state value of the thermistor at the rise and bake temperatures we can simplify this and use a capacitor to convert the voltage to a steady value.&lt;/p&gt;
&lt;p&gt;An Arduino can also be used for the recording system. The circuit I used is shown below. As this is only needed once I made it up on a bread board. Keep the original control board connected to the bread maker and add in this recording system to the control and thermistor connectors. Load up the breadmaker_record.ino sketch from the &lt;a href="https://github.com/elfnor/arduino-bread"&gt;github repository&lt;/a&gt; and make a loaf of bread!&lt;/p&gt;
&lt;p&gt;&lt;img alt="breadmaker record schematic" src="/images/breadmaker_record.png" /&gt;&lt;/p&gt;
&lt;h2&gt;Reverse Engineering a control system&lt;/h2&gt;
&lt;p&gt;The output of the recording system is shown below.&lt;/p&gt;
&lt;p&gt;&lt;img alt="bread maker output" src="/images/breadmaker_graph.png" /&gt;&lt;/p&gt;
&lt;p&gt;The motor control signals are straight forward. The loaf program starts with 6 minutes of mixing where the motor is pulsed on for ~0.25 second and off for ~1 second. After mixing the bread is kneaded with the motor on continuously for ~29 minutes. There is another two short pulses of the motor about a third of the way through the rising time. &lt;/p&gt;
&lt;p&gt;The analog count on pin A0 of the Arduino has an average of 120 during the rising time. For baking it has an average of 330. To convert these counts to resistance values, connect up variable resistor to the recording circuit in place of the thermistor. Vary the resistor to find the resistance values that give analog counts on the Arduino of 120 and 330. Allow enough time after each change in resistance for the count to reach a steady value as the circuit has a long response time due to the large smoothing capacitor.&lt;/p&gt;
&lt;p&gt;During the rising time the heater is on for an average 3 seconds and off for 60 seconds. The on cycle varies between 1 second and 10 seconds. The variation in the on cycle time is  used to control the temperature. &lt;/p&gt;
&lt;p&gt;When the pan is being heated for the baking time the heater is on continuously. During the baking the heater pulses on every 15 seconds with the pulse width again varied to control the temperature. After the baking time the breadmaker keeps the bread pan warm. I haven't yet implemented this keep warm feature in my Arduino program as I don't tend to use it.&lt;/p&gt;
&lt;p&gt;Controlling the temperature of the breadmaker with the Arduino consists of reading the temperature sensor (the thermistor) and determining when and for how long to turn on the heater. I avoided getting into most of the complications of control theory by starting with a very simple control algorithm.  For example for the rise control:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Temperature T&lt;/th&gt;
&lt;th&gt;time on&lt;/th&gt;
&lt;th&gt;time off&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;T &amp;lt; tlow&lt;/td&gt;
&lt;td&gt;10 s&lt;/td&gt;
&lt;td&gt;50 s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tlow  &amp;lt; T &amp;lt; thigh&lt;/td&gt;
&lt;td&gt;6 s&lt;/td&gt;
&lt;td&gt;54 s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;T &amp;gt; thigh&lt;/td&gt;
&lt;td&gt;1 s&lt;/td&gt;
&lt;td&gt;59 s&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;This works well enough because of the long time constant between pulsing the heater and the thermistor responding, the large thermal mass of the system, and the low accuracy (~ +/- 5 °C) required to make bread.&lt;/p&gt;
&lt;p&gt;In the control system the thermistor is measured with a simple voltage divider. The motor and heater are controlled via transistors connected to digital lines on the Arduino.&lt;/p&gt;
&lt;p&gt;The final circuit is shown below:&lt;/p&gt;
&lt;p&gt;&lt;img alt="breadmaker circuit" src="/images/breadmaker_schem.png" /&gt;&lt;/p&gt;
&lt;p&gt;This includes 5 switches to match the switches in use on the original breadmaker and a 4 digit display. The switches use the internal pull-up resistors on the Arduino board and so only need to be connected between the Arduino pin and ground. The 4 digit display is one that includes a TM1637 control chip (&lt;a href=""&gt;for example&lt;/a&gt;) and can be controlled from 2 lines on the Arduino. The LEDs in parallel with the transistors are useful for debugging the circuit and program but can be omitted in the final build.&lt;/p&gt;
&lt;p&gt;I made the fairly simple circuit board up on a piece of perfboard cut to match the size of the original board. The switches were carefully positioned to be in the same place underneath the pads on the breadmaker cover. The display was hung off the board on longish wires as this was the easiest way to get it to sit underneath the see through area on the cover. The Arduino nano was inserted into headers soldered onto the back of the board. This was to allow easy access for reprogramming. &lt;/p&gt;
&lt;p&gt;&lt;img alt="new board" src="/images/breadmaker_board.png" /&gt;&lt;/p&gt;
&lt;p&gt;The full code for the Arduino is available &lt;a href="https://github.com/elfnor/arduino-bread"&gt;here&lt;/a&gt;. &lt;/p&gt;
&lt;p&gt;When the bread maker is switched on with its new brain it behaves very much like it used to. Only now it has new programs as defined in the Arduino code. The programs are selected by using the SELECT button to cycle through them. The up and down keys can be used as before to add a delay time to the start of the program. The program is then started with the START button. It can be stopped at any time with the STOP button. &lt;/p&gt;
&lt;p&gt;The given Arduino code currently includes the following bread programs:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;PGRMS&lt;/span&gt;
  &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;min_pulseMix&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;  &lt;span class="c1"&gt;// 1/4 second pulse every 1 second&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;min_contMix&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;   &lt;span class="c1"&gt;// continuous kneading&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;min_rise1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;     &lt;span class="c1"&gt;// pan kept at rising temperature &lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;min_punchDown&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// two short mixing pulses &lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;min_rise2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;     &lt;span class="c1"&gt;// 2nd rise &lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;min_heat&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;      &lt;span class="c1"&gt;// pan heated up to bake temperature &lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;min_bake&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;      &lt;span class="c1"&gt;// pan kept at bake temperature &lt;/span&gt;
  &lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;N_PGRMS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;PGRMS&lt;/span&gt; &lt;span class="n"&gt;pgrms&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;N_PGRMS&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 
    &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;29&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;53&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;  &lt;span class="c1"&gt;// 0 : normal loaf&lt;/span&gt;
      &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;29&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;     &lt;span class="c1"&gt;// 1 : mix and knead only&lt;/span&gt;
      &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;  &lt;span class="c1"&gt;// 2 : very long rise&lt;/span&gt;
      &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;29&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;  &lt;span class="c1"&gt;// 3 : mix, knead and long rise&lt;/span&gt;
      &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;     &lt;span class="c1"&gt;// 4 : bake only&lt;/span&gt;
      &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;  &lt;span class="c1"&gt;// 5 : test nonsense     &lt;/span&gt;
    &lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The first program &lt;code&gt;pgrms[0]&lt;/code&gt; bakes an ordinary loaf of bread, mixing it for 6 minutes, kneading for 29 minutes, rising for 30 mintute. Then it quickly "punches down" the bread (two short mixing pulse) and rises the bread for another 53 minutes. Then it heats the pan up and bakes the bread for 42 minutes. Any part of the program can be skipped by setting its value to zero. &lt;/p&gt;
&lt;p&gt;Add another program by increasing &lt;code&gt;N_PGRMS&lt;/code&gt; and adding a line to &lt;code&gt;PGRMS&lt;/code&gt; with the correct times for each part of the cycle.&lt;/p&gt;
&lt;p&gt;The next thing I'd like to add to this project is a sensor to determine when the bread is risen. Either a simple optical beam break when the bread reaches the top of the pan or some way of measuring the height of the dough. Choice of sensors will be limited by the high temperatures the breadmaker reaches. But for now my re-brained bread maker makes a pretty good loaf of bread.&lt;/p&gt;
&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Mon, 19 Jan 2015 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2015-01-19:Arduino Bread Details.html</guid><category>make</category></item><item><title>Simple Sverchok 04 - Apply Matrix</title><link>http://www.elfnor.com/simple-sverchok-04-apply-matrix.html</link><description>&lt;p&gt;&lt;img alt="3D T Square Fractal" src="/images/copy_cubes_wireframe_25a.png" /&gt;&lt;/p&gt;
&lt;p&gt;This is part four of my introduction to &lt;a href="http://nikitron.cc.ua/sverchok_en.html"&gt;Sverchok&lt;/a&gt; the parametric node geometry add-on for Blender. This post I'm sticking to my theme of copying one object to the structure (either the vertices or polygons) or another mesh. There is an awful lot more than just copying that can be done with Sverchok (see &lt;a href="http://blendersushi.blogspot.co.nz/"&gt;here&lt;/a&gt; for example) but copying is good for explaining the basics.&lt;/p&gt;
&lt;p&gt;The very simple node tree below takes a copy of the cube, scales it to half size and places a copy on each each of the corners of the original large cube. The scale values are accessed by clicking on the scale drop down. We could also connect a "Vector In" node here to give the three scale values.&lt;/p&gt;
&lt;p&gt;&lt;img alt="first level cube copy" src="/images/copy_cube_post_01.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;Very straight forward. How would we continue this copy in a recursive fashion to produce a fractal structure? That is copy a small cube (64 in total) to each corner of the eight mid-sized cubes. Then repeat this with 512 tiny cubes etc.  This would produce  a 3D  version of the &lt;a href="http://en.wikipedia.org/wiki/T-square_%28fractal%29"&gt;T-square fractal&lt;/a&gt;. &lt;/p&gt;
&lt;p&gt;The "Viewer Draw" node takes a list of vertices from the "Object In" node and a list of matrices defining the location of each of vertices of the original cube and a scale factor to apply to each of the copies.  To do another level of copying we need a list of matrices that give the location of the corners of the eight mid-sized cubes. &lt;/p&gt;
&lt;p&gt;The "Matrix Apply" node takes a list of vertices and a list of matrices and produces a nested list of vertices for all the mid sized cubes. Take a look at the output of the "Matrix Apply" node with the "Viewer Text" node. It consists of a nested list with three levels. The outermost level (level 1) contains 8 objects, one for each cube. Each of these level 1 objects contains eight lists (level 2), one for each corner of a cube. Each of these level 2 list contains three numbers (level 3) for the x, y, z coordinates of the vertex. &lt;/p&gt;
&lt;p&gt;&lt;img alt="matrix apply node" src="/images/copy_cube_post_02.blend.png" /&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nl"&gt;vertices:&lt;/span&gt; 
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;object&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;   &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;   &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;....&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;We need to flatten this list so it contains 1 object with a  list of 64 vertices. This is done using the "List Join" node with the "JoinLevelLists" set to 2. Check with the "Viewer Text" node that this is what happened.&lt;/p&gt;
&lt;p&gt;&lt;img alt="List join node" src="/images/copy_cube_post_03.blend.png" /&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nl"&gt;vertices:&lt;/span&gt; 
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;object&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;   &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;64&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;We then feed this list into another "Matrix In" node, set the scale values and send the resulting list of 64 matrices to another "Viewer Draw" node. We can repeat this process as many times as we like to get a fractal structure.&lt;/p&gt;
&lt;p&gt;&lt;img alt="t square fractal node tree" src="/images/copy_cube_post_04.blend.png" /&gt;
&lt;img alt="t square fractal levels" src="/images/copy_cube_post_05.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;Another simple 3D fractal is the &lt;a href="http://en.wikipedia.org/wiki/Menger_sponge"&gt;Menger Sponge&lt;/a&gt;. The sponge (right) and its negative space (left) are shown below. The sponge and its negative would fit together to completely fill a cube. &lt;/p&gt;
&lt;p&gt;&lt;img alt="menger sponge neagtive and positive" src="images/menger_sponge_06.png" /&gt;&lt;/p&gt;
&lt;p&gt;Looking at these, the negative sponge looks easier to build by copying. The basic underlying structure is shown below. The structure consists of ever smaller copies of the central cross. The cross can be made by extruding each face of a cube. The positions to copy to are given by the wire frame cube. This is made by deleting the faces from a cube and subdividing each edge. The cross should be three units across and the wire frame cube 2 units across.&lt;/p&gt;
&lt;p&gt;&lt;img alt="menger sponge cross unit" src="images/copy_cube_post_08.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;For the first level of copying (the bottom row on the following node tree) we just copy the Cross to the Cube vertices of the wireframe. The second level of copying is done in the top row. The scale factors for each "Matrix In" node can be calculated or found by trial and error. They are for the two nodes in the top row (from left to right) 0.33 (1/3) and 0.1666 (1/6) and 0.5 (1/2) for the "Matrix In" node in the bottom row.&lt;/p&gt;
&lt;p&gt;&lt;img alt="negative menger sponge node tree" src="images/copy_cube_post_11.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="negative menger sponge levels" src="images/copy_cube_post_09.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;More levels of smaller copies can be made in a similar way.&lt;/p&gt;
&lt;p&gt;Once we understand the use of a separate mesh to define the copy to points, constructing  the positive Menger Sponge is just as simple. We start by making the base unit which is the boolean difference between a cube and our previous base cross object. The wire frame object is the same as for the negative sponge. Once having set up the recursive scaled copy of the wire frame mesh we only need to copy one size of unit sponge object to each vertex position. The scale factor is 1/9  for a a basic sponge unit of dimension 3 and three levels of recursion.&lt;/p&gt;
&lt;p&gt;&lt;img alt="positive menger sponge base unit" src="images/copy_cube_post_13.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="positive menger sponge node tree" src="images/copy_cube_post_12.blend.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sun, 04 Jan 2015 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2015-01-04:simple-sverchok-04-apply-matrix.html</guid><category>make</category><category>think</category><category>blender</category><category>sverchok</category></item><item><title>Simple Sverchok 03 - Slope Dependent Trees</title><link>http://www.elfnor.com/simple-sverchok-03-slope-dependent-trees.html</link><description>&lt;p&gt;&lt;img alt="landscape with slope dependent trees" src="/images/forest_mountain_15.png" /&gt;&lt;/p&gt;
&lt;p&gt;The first two posts (&lt;a href="http://www.elfnor.com/simple-sverchok-01-centers-polygons.html"&gt;01&lt;/a&gt;, &lt;a href="http://www.elfnor.com/simple-sverchok-02-matrix-deform.html"&gt;02&lt;/a&gt; ) in this gentle introduction to Sverchok covered copying objects to the centers of polygons and scaling the copied objects according to some pattern. &lt;/p&gt;
&lt;p&gt;In this post we'll look at applying what we've learnt to planting trees across a landscape. We'll make the trees only grow on reasonably flat land and make different types of trees grow at different heights.&lt;/p&gt;
&lt;p&gt;First off activate the Ant Landscape add-on available under user preferences. (It should be included in the default install). Use Add &amp;gt; Mesh &amp;gt; Landscape to generate a mesh. Fiddle with the landscape parameters in the tool panel until the landscape looks good. Add some flat spots using the Strata drop down near the bottom of the tool panel. These will be where we'll plant the trees.&lt;/p&gt;
&lt;p&gt;&lt;img alt="ant landscape" src="/images/slope_greeble_01.png" /&gt;&lt;/p&gt;
&lt;p&gt;We could copy the trees to the centers of the polygons of our mesh similar to the previous two posts but to try something new this time we'll copy them onto the vertices of the mesh instead.&lt;/p&gt;
&lt;p&gt;To copy an object on to every vertex just requires this simple node diagram. All the copied objects z vectors point in the same direction as the original object, as we've only provided information about location and none about rotation.&lt;/p&gt;
&lt;p&gt;&lt;img alt="copy to vertices" src="/images/slope_greeble_02_a.png" /&gt;&lt;/p&gt;
&lt;h2&gt;Slope Dependence&lt;/h2&gt;
&lt;p&gt;To determine the slope at any point on the landscape we use the "Vertex Normals" node found under "Analyzers". This node outputs a list of vectors, one for each vertex. The angle between the vertex normal and the z-axis will give us a value for the slope that is zero degrees for flat land and 90 degrees for vertical cliffs. To calculate this angle use the "Vector Math" node from the "Vector" group and set its function to "Angle degrees". Use the "Vector X|Y|Z" node as the other input. Check with the "Viewer text" node that this gives a list of angles for each vertex of the landscape.&lt;/p&gt;
&lt;p&gt;&lt;img alt="slope sverchok" src="/images/slope_greeble_03_a.png" /&gt;&lt;/p&gt;
&lt;p&gt;Next we want to select some of these vertices depending on this slope value. Add a "Logic" node and set its function to "&amp;lt;" (less than).  Set a suitable value (say 10) for the second input. This will output  a list of True or False values (booleans)  for each vertex of the landscape depending on its slope. &lt;/p&gt;
&lt;p&gt;&lt;img alt="slope sverchok" src="/images/slope_greeble_04_a.png" /&gt;&lt;/p&gt;
&lt;p&gt;The "Mask List" node takes a list of booleans (mask) and a data list and separates the data into two lists one for when the matching values in the mask are True and one for when they are False. &lt;/p&gt;
&lt;p&gt;&lt;img alt="slope sverchok" src="/images/slope_greeble_05_a.png" /&gt;&lt;/p&gt;
&lt;p&gt;The landscape should now have little cubes only on the flat spots. Changing the value in the "LESS X" logic node will change the maximum slope on which cubes are placed. &lt;/p&gt;
&lt;h2&gt;Height Dependence&lt;/h2&gt;
&lt;p&gt;To keep things simple I'll explain the construction of a node diagram for different types of trees at different heights separately then combine the two node diagrams at the end. &lt;/p&gt;
&lt;p&gt;Add a different low polygon object to the scene. I'd suggest a cube with the top four vertices merged at the center. For speed, I tend to use low polygon meshes at this early stage, later I will bake the Sverchok results using the same low polygon copies as placeholders. Then I link the data and materials of the desired real object to the copies produced by Sverchok.&lt;/p&gt;
&lt;p&gt;The node diagram for height dependence is roughly similar to that for slope dependence. The z-component of the vertex position is compared to a float value with a logic node. This list of booleans is fed to a "Mask List" node which separates the matrices for transforming an object to the vertex position into two lists. The "dataTrue" list is fed to the matrix input of one "Viewer Draw" node, the "dataFalse" list is fed to a different "Viewer Draw" node. Each "Viewer Draw" node gets its vertices and polygons from a different "Object In" node. The low elevation vertices ("dataTrue") are connected to the cube and the high elevation vertices ("dataFalse") are connected to  the pyramid.&lt;/p&gt;
&lt;p&gt;&lt;img alt="height dependence sverchok" src="/images/slope_greeble_06_a.png" /&gt;&lt;/p&gt;
&lt;p&gt;The node diagram including both slope and height dependence is shown here. (Click for a larger view). &lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.elfnor.com/images/slope_greeble_07.png"&gt;&lt;img alt="height and slope node tree" src="/images/slope_greeble_07_a.png" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Unless its a plantation forest, our trees will look better with some variation in the x and y locations,  z-scale and rotation about the z-axis. This is done with a number of "Random" nodes similar to how we randomized the z-scale of the objects in the last post. This node diagram gets very messy so I've colapsed all the nodes except those for randomizing the rotation about the z-axis. You can examine the full diagram after downloading the blend file. The "Map Range" node is used to map the [0, 1] range of the output of the "Random" node to the needed range of [0, 360] for the angle input of the "Matrix Deform" node.&lt;/p&gt;
&lt;p&gt;&lt;img alt="random height dependence sverchok" src="/images/slope_greeble_08.png" /&gt;&lt;/p&gt;
&lt;p&gt;An aerial view of the landscape showing the random location and rotation of the objects.&lt;/p&gt;
&lt;p&gt;&lt;img alt="aerial view of landscape" src="/images/slope_greeble_09.png" /&gt;&lt;/p&gt;
&lt;p&gt;Download &lt;a href="/downloads/slope_greeble.blend"&gt;blend file&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Note: Credit and thanks to &lt;a href="http://www.techmonkeybusiness.com/"&gt;TechMonkey&lt;/a&gt; for the textures and tree models used in the image at the top of the post. The slope dependent texturing in that image was done following &lt;a href="http://vimeo.com/28922937"&gt;this tutorial&lt;/a&gt; by David Miller.&lt;/p&gt;
&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Tue, 30 Dec 2014 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2014-12-30:simple-sverchok-03-slope-dependent-trees.html</guid><category>make</category><category>think</category><category>blender</category><category>sverchok</category></item><item><title>Simple Sverchok 02 - Matrix Deform</title><link>http://www.elfnor.com/simple-sverchok-02-matrix-deform.html</link><description>&lt;p&gt;&lt;img alt="demo sverchok image" src="/images/flower_head_18_top.png" /&gt;&lt;/p&gt;
&lt;p&gt;My  &lt;a href="http://www.elfnor.com/simple-sverchok-01-centers-polygons.html"&gt;previous post&lt;/a&gt; introduced some of the basic concepts of &lt;a href="http://nikitron.cc.ua/sverchok_en.html"&gt;Sverchok&lt;/a&gt; via the "Centers Polygons" node. &lt;/p&gt;
&lt;p&gt;Here we'll try to gradually increase the complexity of our node diagram to do some more interesting things. Things that become increasingly harder to do outside Sverchok without using Blender python directly.&lt;/p&gt;
&lt;p&gt;Last time we made a simple node diagram that copied one object of the scene onto the centers' of the polygons of another object in the scene. How would we apply a different scale to each of the copied objects? This scale could be random or structured in some way.&lt;/p&gt;
&lt;p&gt;We know from playing last time with the "Matrix Out" and the "Text Viewer" node that the scale information is stored in the objects transform matrix. The "Centres Polygon" node produces a list of transform matrices for each of the copied objects. So to scale each object we going to intercept this list of matrices on its way from the "Centers Polygons" node to the "Viewer Draw" node.&lt;/p&gt;
&lt;p&gt;A look around the nodes available finds a "Scale" node under Transforms and a "Matrix Deform" node under Matrix. &lt;/p&gt;
&lt;p&gt;&lt;img alt="sverchok scale node and Matrix deform node" src="/images/scale_matrix_nodes.png" /&gt;&lt;/p&gt;
&lt;p&gt;The "Scale" node has vertices as inputs and outputs. This would be useful for scaling the vertices of a single object (think of  working in "EDIT" mode) but isn't for working with the transform matrices (think of working in "OBJECT" mode).&lt;/p&gt;
&lt;p&gt;The "Matrix Deform" node looks more what we want. It has matrix (blue) inputs and outputs and further inputs for location, scale,  rotation and angle. To apply an individual scale to each object we need a vector (x, y, z) for each object. This is produced in the next diagram with a "Vector" node and a "Random" node.  The X and Y scales are set to 1 and the Z scale is connected to "Random" node.  The "Random" node produces uniformly distributed numbers of the interval [0, 1].  This node diagram  randomly scales each of the copied objects in their Z directions (along the normal of the polygon they've been copied to). &lt;/p&gt;
&lt;p&gt;&lt;img alt="sverchok random scale" src="/images/centers_polygons3.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="sverchok random scale result" src="/images/centers_polygons3.blend_result-crop.png" /&gt;&lt;/p&gt;
&lt;p&gt;Here we have set the "Count" of the "Random" node to 20 as we know that's how many faces our mesh has. If we change the mesh it would be nice if this updated automatically to the number of polygons in the mesh. This is done via the "List Length" node as shown below.&lt;/p&gt;
&lt;p&gt;&lt;img alt="sverchok random scale list length" src="/images/centers_polygons4.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;What if we wanted to scale the spike objects in a more structured way? Its just a matter of getting a list of scale vectors of the right length and feeding them to our matrix deform node.&lt;/p&gt;
&lt;p&gt;&lt;img alt="sverchok z scale" src="/images/centers_polygons6.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="sverchok z scale result" src="/images/centers_polygons6.blend_result.png" /&gt;&lt;/p&gt;
&lt;p&gt;Here we've scaled the length of the cylinders by the z location of the polygon the cylinder is copied to. This is done by using a "Matrix Out" node to separate out the location of the center of each polygon, then a "Vectors Out" node to separate out just the z component of the location vector.&lt;/p&gt;
&lt;p&gt;Hiding the Icosphere will show that the bottom half of the cylinders have negative scale due to the z location of their polygon being neagtive. One solution is to add a "Math" node to take the absolute value of the z location of the face before passing it to the "Matrix Deform" node.&lt;/p&gt;
&lt;p&gt;&lt;img alt="sverchok abs z scale " src="/images/centers_polygons7.blend.png" /&gt;
&lt;img alt="sverchok abs z scale result" src="/images/centers_polygons7.blend_result.png" /&gt;&lt;/p&gt;
&lt;p&gt;Node diagrams can quickly look busy. To make node diagrams easier to read Frames can be added and named. Select the nodes then "Join in New Frame" from the node menu. The whole frame can then be moved around as one item.&lt;/p&gt;
&lt;p&gt;&lt;img alt="sverchok abs z scale frame " src="/images/centers_polygons8.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;There is also a SV Groups feature on the right hand panel of the Node Editor window. This collapses a number of nodes down to a single node.&lt;/p&gt;
&lt;h2&gt;Example Image&lt;/h2&gt;
&lt;p&gt;&lt;img alt="demo sverchok image" src="/images/flower_head_07.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sat, 27 Dec 2014 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2014-12-27:simple-sverchok-02-matrix-deform.html</guid><category>make</category><category>think</category><category>blender</category><category>sverchok</category></item><item><title>Simple Sverchok 01 - Centers Polygons</title><link>http://www.elfnor.com/simple-sverchok-01-centers-polygons.html</link><description>&lt;p&gt;&lt;img alt="final render sverchok centres polygon demo" src="/images/centers_polygon_demo_image.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://nikitron.cc.ua/sverchok_en.html"&gt;Sverchok&lt;/a&gt; is an add-on for Blender. It allows you to generate geometry in Blender in a parametric way by wiring visual nodes together rather than programming in Blender python.&lt;/p&gt;
&lt;p&gt;This is the first of hopefully a series on very simple examples of using Sverchok. I'm learning this as I blog about it (the best way of learning something is to try and teach someone else) so if I make mistakes or find a better way of doing something later I'll try and come back and update these posts.&lt;/p&gt;
&lt;h2&gt;Installation and setup&lt;/h2&gt;
&lt;p&gt;Get the latest version of Sverchok from github.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Download Sverchok from github &lt;a href="https://github.com/nortikin/sverchok/archive/master.zip"&gt;https://github.com/nortikin/sverchok/archive/master.zip&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;User Preferences &amp;gt; Addons &amp;gt; install from file &amp;gt;&lt;/li&gt;
&lt;li&gt;Choose zip-archive &amp;gt; activate flag beside Sverchok&lt;/li&gt;
&lt;li&gt;Enable permanently in the startup.blend using Ctrl + U and Save User Settings from the  Addons menu. &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;My preferred layout for working in Sverchok is to start with the Compositing screen layout and change the bottom left window to a Text Editor. At the bottom of the Node Editor select the node tree type to Sverchok and add a new node tree.&lt;/p&gt;
&lt;h2&gt;Centers Polygons&lt;/h2&gt;
&lt;p&gt;Here is the first node set up we're going to look at.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.elfnor.com/images/centers_polygons1.blend.png"&gt;&lt;img alt="centers polygons node example" src="images/centers_polygons1.blend_low_res.png" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This is a very simple node diagram (click for a larger image). All it does is copy one object from the scene onto the centers' of the polygons of another object in the scene.&lt;/p&gt;
&lt;p&gt;I'll explain it in some detail to help us get a feel for how Sverchok handles the data for a mesh.&lt;/p&gt;
&lt;p&gt;The two green "Objects_in" Scene nodes allow access to the data from objects in the scene. Select the scene object and press the "Get Selection" button to read in the data.&lt;/p&gt;
&lt;p&gt;Each of the connections on the right side of the "Object_in" node outputs some of the mesh data for its object. To see what this data looks like connect a "Viewer_text" Text node to one of the outputs. Change one of  the panels in the blender window to a  text editor and select  the "Sverchok_viewer" from the data block selector. When the "VIEW" button on the "Viewer_text" node is pressed the data stream connected to the node will be written to this panel.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Viewer text node" src="/images/centers_polygons1a.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;A blender mesh is described as the (x, y, z) coordinates of the vertices of the object. These are given relative to the origin of the object.&lt;/p&gt;
&lt;p&gt;The edges and polygons describe how the vertices are connected to form the mesh. The edges are list of pairs that are connected by an edge. For instances (1, 5) means there is an edge between the &lt;code&gt;obj.data.vertices[1]&lt;/code&gt; and &lt;code&gt;obj.data.vertices[5]&lt;/code&gt;*. The polygons are similarly a list of the vertices connected by each polygon in the mesh.&lt;/p&gt;
&lt;p&gt;In Sverchok it only makes sense to wire the same colored nodes together. Orange vertices coordinates  to orange vertices coordinates, Green lists of vertices (edges or polygons) to other lists etc.&lt;/p&gt;
&lt;p&gt;The matrix of an object describes the position, scale and rotation of the object. The position is given as the position of the object's origin with respect to the Scene origin. "Get Selection" the data from a simple cube and look at its matrix with a "Viewer_text" node. Move, rotate and scale the cube and compare the values in the "Transform" panel to the matrix that Sverchok displays. (You'll need to use the "Get Selection" and "VIEW" buttons to update the data after each change to the object).&lt;/p&gt;
&lt;p&gt;A little playing will show that the location and scale are stored in the matrix&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;[sx, 0,  0, x]&lt;/span&gt;
&lt;span class="k"&gt;[0, sy,  0, y]&lt;/span&gt;
&lt;span class="k"&gt;[0,  0, sz, z]&lt;/span&gt;
&lt;span class="k"&gt;[0,  0,  0, 1]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;where x, y, z are the location and sx, sy, sz, are the scale values.&lt;/p&gt;
&lt;p&gt;Rotations affect the 3 x 3 top left corner of the matrix. If you're interested in more detail on how transform matrices really work see these &lt;a href="http://www.cs.mtu.edu/~shene/COURSES/cs3621/NOTES/geometry/geo-tran.html"&gt;notes&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To separate out the various parts of the transform matrix use the "Matrix out" node from the "Matrix" node set.  This takes a matrix (or many matrices) and outputs separately the location, scale, rotation and angle represented by that transform matrix. &lt;/p&gt;
&lt;p&gt;&lt;img alt="Matrix out node" src="/images/centers_polygons1b.blend.png" /&gt;&lt;/p&gt;
&lt;p&gt;The rotation output of the node is a list of three numbers which correspond to the X, Y, Z values of the rotation given in the transform panel of the 3D view when the "Axis Angle" display option is selected. The Angle  output of the node is the W value (in degrees) from the transform panel. In the "Axis Angle" mode,  X, Y, Z describe an axis and W describes a angle that the object is rotated about this axis. &lt;/p&gt;
&lt;p&gt;If you apply the transform (CTRL-A) (location, scale and rotation to the object the transfrom matrix will be reset to the identity matrix (diagonal 1s, 0s everywhere else), the origin of the object will be moved to the scene origin and the vertices of the object will be recalculated to reflect this change in origin. The edges and polygons do not need to be updated through any of these transforms as they are only lists of the connections between vertices and as such contain no positional information.&lt;/p&gt;
&lt;p&gt;Also play with moving, rotating or scaling the mesh in "EDIT" mode. You will find that this effects the vertex coordinates but not the transform matrix.&lt;/p&gt;
&lt;p&gt;Getting back to the "Centers Polygons" node from the "Analysers" node set. It takes a set of vertex coordinates and a list of polygon connections as its inputs and outputs data about the centers of each of those polygons.&lt;/p&gt;
&lt;p&gt;&lt;img alt="centers polygon nodes only" src="/images/centers_polygons1.blend_diagram.png" /&gt;&lt;/p&gt;
&lt;p&gt;The "Centers" output of the node is colored blue, meaning its going to output matrices. 
In the node diagram the "Centers" output from the "Centers Polygons" node is connected to the matrix input of a "Viewer Draw" node. Connecting another mesh to the "Vertices" "Edge pol" inputs produces a copy of the second mesh at the center of each polygon on the first mesh.&lt;/p&gt;
&lt;p&gt;Moving the second mesh with respect to its own origin will move (when everything is updated) the copies with respect to the polygon on the second mesh. The orientation of the copy is such that the copied objects z-direction is normal to the face. To see how the x and y directions map to the face select a face of the first object and change the transformation display to "Normal" mode. A little experimentation will show that the x axis of the second object is mapped to the y axis of the face normal.&lt;/p&gt;
&lt;p&gt;The origins output of the "Centers Polygons" node output just a list of the centers of each polygon. The "Normals" and "Norm_abs" outputs are as described in the &lt;a href="http://sverchok.readthedocs.org/en/latest/main.html"&gt;docs&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Normals is normals from global zero coordinates, vector. Norm_abs is normals shifted to centers of polygons. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;To turn the output of the "Viewer Draw" node into ordinary Blender meshes click the "Bake" button on the node. If its not showing check the properties in the right hand panel.&lt;/p&gt;
&lt;p&gt;Alternatively if a "Viewer Bmesh" node is used instead of the "Viewer Draw" node, SV will update Blender meshes as changes are made. (Still need to click the "Update" button on the right hand panel.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;code&gt;*&lt;/code&gt; I've used the python code here that you could use to access the same data in the python console.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;    &lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;active_object&lt;/span&gt;
    &lt;span class="n"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vertices&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;co&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sat, 20 Dec 2014 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2014-12-20:simple-sverchok-01-centers-polygons.html</guid><category>make</category><category>think</category><category>blender</category><category>sverchok</category></item><item><title>Arduino Bread</title><link>http://www.elfnor.com/Arduino%20Bread.html</link><description>&lt;p&gt;I'm working on a project to replace the "brain" of a bread-maker with an Arduino. &lt;/p&gt;
&lt;p&gt;My partner makes all the household's bread from a sourdough starter. He uses the current bread-maker to knead the bread and sometimes to bake the bread but a bread-maker with its fixed cycle doesn't't make a successful loaf of sourdough. The rising time for bread made with sourdough starter is variable and unpredictable. Also the standard bread-maker cycle has a "punch down" (a quick mix in the middle of the rising cycle). This helps to make a fine texture for ordinary bread but can disrupt the rising of a sourdough loaf.&lt;/p&gt;
&lt;p&gt;By replacing the bread-maker control circuit with an arduino, we'll have more control over the stages in the bread-maker cycle. For instance a leave to rise until the human baker switches to the bake cycle will cover the variation in rise time we often get with the sourdough. Eventually, I'd like some way of measuring the height of the dough so the arduino can track when the bread is risen and then switch to the bake cycle. &lt;/p&gt;
&lt;p&gt;Also a programmable temperature environment with optional mixing has potential for other projects. Pasta dough, jam, dyeing wool, risotto, &lt;a href="https://www.youtube.com/watch?v=wgUw5Sj5HK0"&gt;beer making&lt;/a&gt;, &lt;a href="http://hackaday.com/2010/01/29/another-take-on-roasting-those-beans/"&gt;roasting coffee&lt;/a&gt;, &lt;a href="http://www.instructables.com/id/Mr-Compost-How-to-make-an-in-kitchen-compost-tur/"&gt;compost&lt;/a&gt;, desoldering etc.&lt;/p&gt;
&lt;p&gt;Note : don't try these in the same bread-maker or at least don't make the jam after trying the desolder or compost. Note I only found the compost making instructable after I'd mostly finished my version, (for some reason I didn't search for compost and bread machine) but it looks a great place to start. What's interesting is the basic board layout in the compost making Zojirushi BBCC-V20 looks similar internally to the Sanyo "The Bread Factory Plus" (Model SBM-20) I'm working on.&lt;/p&gt;
&lt;p&gt;I'll post some detailed notes when I'm a bit further along in the project. But so far I've managed to duplicate the basic bread-making cycle on the arduino. Here's the proof. Arduino baked bread.&lt;/p&gt;
&lt;p&gt;&lt;img alt="arduino bread" src="http://www.elfnor.com/images/arduino_bread.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Fri, 12 Dec 2014 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2014-12-12:Arduino Bread.html</guid><category>make</category></item><item><title>Notes to Father Christmas re 3D Printer Filament</title><link>http://www.elfnor.com/notes-to-father-christmas-re-3d-printer-filament.html</link><description>&lt;p&gt;I was doing some research to help Father Christmas fill my request for "some interesting printer filament" in my Christmas stocking. I thought I'd share that research here in case its useful to anyone else. Feel free to include or modify it for your own Christmas letter to Santa. (Under a creative commons share alike license.)&lt;/p&gt;
&lt;p&gt;I have an Ultimaker original which takes 3 mm diameter filament and as my heated bed is currently in use &lt;a href="http://www.elfnor.com/a-novel-use-for-a-3d-heated-printer-bed.html"&gt;keeping the ducklings warm&lt;/a&gt;, I'm mainly looking at filaments that will print on an unheated bed.&lt;/p&gt;
&lt;p&gt;As I'm in New Zealand I've looked at filaments available locally. I have to consider the &lt;a href="http://visual.ly/santas-carbon-footprint"&gt;carbon emissions&lt;/a&gt; for sleigh travel from the North Pole. &lt;/p&gt;
&lt;p&gt;I'm also looking for "interesting" filament by this I mean something other than plain coloured ABS or PLA. If a supplier also stocks the plain stuff I've normally included their base price in the list below, but I haven't included any suppliers that just stock ABS and PLA.&lt;/p&gt;
&lt;p&gt;If you know of any other NZ stockists of interesting filament please add a comment.
I've tried to get the prices correct, including GST but not necessarily shipping. Add any corrections in a comment and I'll fix.&lt;/p&gt;
&lt;h2&gt;&lt;a href="http://diamondage.co.nz"&gt;Diamond Age&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Diamond Age have ASA ($78.20/125 m) a UV stabilised version of ABS which needs the same equipment to print as ABS.&lt;/p&gt;
&lt;p&gt;HIPS (High Impact Polystyrene) ($71.88/125 m) which is used in dual extrudes as a support material for ABS.&lt;/p&gt;
&lt;p&gt;PET-G (no heated bed required) ($94.88/125 m) is a transparent clear.&lt;/p&gt;
&lt;p&gt;IMPLA and HIPLA ($57.50/125 m), these are PLA with additives to increase strength and reduce brittleness. I've tried the HIPLA and its certainly flexible in the filament but can delaminate when a printed piece is flexed too much.  &lt;/p&gt;
&lt;p&gt;Diamond Age has PLA for ($50.88/125 m). The Ivory prints very nicely. The 125 m spools of 3 mm diameter filament are approximately 1 kg.  &lt;/p&gt;
&lt;p&gt;Diamond Age have the best tips on printing each filament of any of the NZ suppliers. They make their own filaments here in NZ and have a lot of experience in 3D printing. &lt;/p&gt;
&lt;h2&gt;&lt;a href="http://www.mindkits.co.nz"&gt;Mindkits&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Mindkits probably have the largest range of filament types, all non-branded.  &lt;/p&gt;
&lt;p&gt;Mindkits have:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;3 mm wood PLA ($50.47/kg), &lt;/li&gt;
&lt;li&gt;TPE Flexible filament ($87.92/kg), &lt;/li&gt;
&lt;li&gt;PLA filament that changes color with temperature ($64.50/kg), &lt;/li&gt;
&lt;li&gt;PETG T-glase ($69.30/kg), &lt;/li&gt;
&lt;li&gt;Nylon ($59.75/kg), &lt;/li&gt;
&lt;li&gt;Conductive ABS ($69.44/kg).  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Mindkits price for ordinary PLA is around $50/kg.  &lt;/p&gt;
&lt;h2&gt;&lt;a href="http://nicegear.co.nz/3d-printing/"&gt;Nicegear&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Nicegear have NinjaFlex in 3 mm diameter (black and white) ($110/0.75 kg). I've seen some nice stuff printed in this. I've got some FilaFlex which I've found hard but not impossible to print with the Ultimaker's Bowden tube extruder. When my partner's Reprap is done I'll try the direct extruder and see if I get better results. Until then I'll pass on getting more flexible filament.&lt;/p&gt;
&lt;p&gt;Nicegear's price for ordinary PLA is $84/kg.&lt;/p&gt;
&lt;h2&gt;&lt;a href="https://www.noelleeming.co.nz"&gt;Noel Lemming&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Noel Lemming's have Makerbot PETG ($69.99/kg).&lt;/p&gt;
&lt;h2&gt;&lt;a href="http://www.reeltoreal.co.nz"&gt;Reel to Real&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Reel to Real only have black and white ABS/PLA in 3mm ($42/kg). They also have:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;wood ABS ($65/kg) in 1.75 mm diameter &lt;/li&gt;
&lt;li&gt;flexi ABS (1.75 mm)&lt;/li&gt;
&lt;li&gt;conductive ABS (1.75 mm) ($65/0.5kg).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a href="http://www.vivenda.co.nz/buildingMaterial/"&gt;Vivenda&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Vivenda have &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Taulman 618 Nylon ($55/0.45 kg), &lt;/li&gt;
&lt;li&gt;645 Nylon ($72.50/0.45 kg) &lt;/li&gt;
&lt;li&gt;t-glase ($79.90/0.45 kg) all in 3 mm diameter (and 1.75 mm). &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The T-glase looks like it might require a heated printer bed. &lt;/p&gt;
&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sun, 30 Nov 2014 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2014-11-30:notes-to-father-christmas-re-3d-printer-filament.html</guid><category>make</category><category>3D Printing</category></item><item><title>Translate cache descriptions and logs</title><link>http://www.elfnor.com/translate-cache-descriptions-and-logs.html</link><description>&lt;p&gt;I recently did a European cycle trip and as described &lt;a href="http://www.elfnor.com/off-line-caching-along-a-route.html"&gt;here&lt;/a&gt; I made some gpx files of geocaches along my intended route. &lt;/p&gt;
&lt;p&gt;The trouble is most of the cache descriptions were in German and my German is practically non-existent. I wanted to do all my caching offline so I wrote a small python script to use Google Translate to translate all the descriptions and logs in the GPX file.&lt;/p&gt;
&lt;p&gt;The code uses the &lt;code&gt;minidom&lt;/code&gt; module in the python standard library to parse the &lt;code&gt;xml&lt;/code&gt; in the GPX file.    &lt;/p&gt;
&lt;p&gt;It uses the &lt;a href="http://pythonhosted.org/goslate/"&gt;goslate&lt;/a&gt; library to query Google translate. The &lt;code&gt;codecs&lt;/code&gt; module also in the python standard library is used to correctly write out the unicode characters.&lt;/p&gt;
&lt;p&gt;The script attempts to translate the description and logs for each geocache into English and append them after the original text.&lt;/p&gt;
&lt;p&gt;WARNING: This code only translates some descriptions and logs, if there is a lot of formatting in the description it fails to translate and just returns a second copy of the original text. I haven't spent much time trying to resolve this bug. Feel welcome to improve the script for your on use. Also use at your own discretion after reading Google Translate's terms and conditions.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;xml.dom&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;minidom&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;codecs&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;goslate&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;time&lt;/span&gt;

&lt;span class="n"&gt;gs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;goslate&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Goslate&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;fn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;route-caches.gpx&amp;#39;&lt;/span&gt;


&lt;span class="n"&gt;xmldoc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;minidom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fn&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;    
&lt;span class="n"&gt;descs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;  &lt;span class="n"&gt;xmldoc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getElementsByTagName&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;groundspeak:long_description&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;descs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;    

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;descs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;desc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;firstChild&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;nodeValue&lt;/span&gt;
        &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sleep&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; 
        &lt;span class="n"&gt;endesc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;  &lt;span class="n"&gt;gs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;translate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;desc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;en&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;firstChild&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;nodeValue&lt;/span&gt;  &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;desc&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s"&gt;&amp;#39; &amp;lt;hr&amp;gt; &amp;#39;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;endesc&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;pass&lt;/span&gt;

    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s"&gt; of &lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="n"&gt;texts&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;xmldoc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getElementsByTagName&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;groundspeak:text&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;texts&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;    

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;texts&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;firstChild&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;nodeValue&lt;/span&gt;
        &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sleep&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; 
        &lt;span class="n"&gt;entext&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;  &lt;span class="n"&gt;gs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;translate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;en&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;firstChild&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;nodeValue&lt;/span&gt;  &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s"&gt;&amp;#39; &amp;lt;hr&amp;gt; &amp;#39;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;entext&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;pass&lt;/span&gt;

    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s"&gt; of &lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;codecs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;route-caches-en.gpx&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;w&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;out&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;xmldoc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;writexml&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;out&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sun, 16 Nov 2014 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2014-11-16:translate-cache-descriptions-and-logs.html</guid><category>think</category><category>geocaching</category></item><item><title>A novel use for a 3D heated printer bed.</title><link>http://www.elfnor.com/a-novel-use-for-a-3d-heated-printer-bed.html</link><description>&lt;p&gt;My partner came home from his run on Saturday with a box full of baby ducklings he'd rescued from certain death by cat. The mother duck was nowhere to be found. After ringing partner's mother and googling duckling care (the two best sources of information) the ducklings were homed in a large box (ex radio controlled plane). We used a lamp with the only old style incandescent bulb we had to keep them warm and fed them up on chick feed begged from neighbours who keep chickens. &lt;/p&gt;
&lt;p&gt;This worked well for a couple of days until I got to thinking of a more efficient way to keep them warm...&lt;/p&gt;
&lt;p&gt;&lt;img alt="design" src="http://www.elfnor.com/images/DuckWarmer.png" /&gt;&lt;/p&gt;
&lt;p&gt;A while ago I'd built a heated bed for my Ultimaker 3D printer following a design similar to &lt;a href="http://www.thingiverse.com/thing:12727"&gt;this one&lt;/a&gt;. Mine had stripboard soldered in parallel in sets of four then those sets wired in series to give and overall resistance of about 3.5 Ohms. I sandwiched the board between the glass from the door of a small bench top oven (with thermal paste) and some wool insulation and MDF board on the other side. &lt;/p&gt;
&lt;p&gt;With 19 V across the stripboard, the glass surface could reach 230 deg C after a long warm up time (20+ minutes) and was controlled by the provided circuit on the Ultimaker board. It worked, but was mostly unused as I mainly print in PLA and I got better at the tricks to make prints stick to the original unheated acrylic bed.  &lt;/p&gt;
&lt;p&gt;&lt;img alt="heater" src="http://www.elfnor.com/images/duckling_heater_crop.png" /&gt;&lt;/p&gt;
&lt;p&gt;So this looked perfect for a new use. A bit of experimenting with a controlled voltage power supply and a thermocouple showed I could get a consistent 30 to 35 deg C temperature at a constant 6 V without any need for a control circuit. Perfect for our new fosterlings. I swapped a car battery charger for the fancy power supply, wrapped the bed well in fleece (ducklings are messy) and installed it in the ducklings' box. After a day of duckling satisfaction testing we built an insulated enclosure over half the bed to provide them with a choice of a warmer enclosed space.&lt;/p&gt;
&lt;p&gt;&lt;img alt="ducklings" src="http://www.elfnor.com/images/ducklings_crop_02.png" /&gt;&lt;/p&gt;
&lt;p&gt;Result, Happy Ducklings.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Wed, 12 Nov 2014 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2014-11-12:a-novel-use-for-a-3d-heated-printer-bed.html</guid><category>make</category></item><item><title>Off-line caching along a route</title><link>http://www.elfnor.com/off-line-caching-along-a-route.html</link><description>&lt;p&gt;I recently did a European cycle trip and wanted the opportunity to collect a few geocaches along the way. This post and the next &lt;a href="http://www.elfnor.com/translate-cache-descriptions-and-logs.html"&gt;one on translation&lt;/a&gt;, describe the tools I used to wrangle the data from &lt;a href="http://www.geocaching.com"&gt;geocaching.com&lt;/a&gt; in to a GPX file and attempt to translate the cache descriptions and logs into English.&lt;/p&gt;
&lt;p&gt;First the tools I use for geocaaching:&lt;/p&gt;
&lt;p&gt;I use an android phone (rooted with cyanogenmod, but these tools all work on an unrooted phone) for geocaching. When I wanted something more suitable for geocaching than my old Garmin Etrex I looked at Garmin and other dedicated GPS, but decided a phone was more flexible and one third the price. My Motorola Defy+ is reasonably robust, and supposedly waterproof (not tested (yet!) although I use it happily in the rain). The GPS appears more accurate and works better than the Etrex when signals are weak (inside buildings) but can take along time to get a fix without access to the AGPS  data via wifi.&lt;/p&gt;
&lt;p&gt;I use off-line maps from &lt;a href="http://www.openandromaps.org"&gt;www.openandromaps.org&lt;/a&gt;. These are based on data from the &lt;a href="http://www.openstreetmap.org"&gt;openstreetmap&lt;/a&gt; project. I use &lt;a href="http://www.locusmap.eu/"&gt;Locus Pro&lt;/a&gt; for viewing the maps on the phone, but &lt;a href="http://cgeo.org/"&gt;c:geo&lt;/a&gt; and &lt;a href="http://www.oruxmaps.com/index_en.html"&gt;Orux maps&lt;/a&gt; are also very good.&lt;/p&gt;
&lt;p&gt;Locus Pro can import caches stored in GPX format files. &lt;/p&gt;
&lt;p&gt;Below I describe how I created a GPX file of the caches I expected to cycle past on my trip.&lt;/p&gt;
&lt;p&gt;All this is described for running on a Linux machine with &lt;a href="http://code.google.com/p/geotoad/"&gt;geotoad&lt;/a&gt; and &lt;a href="http://www.gpsbabel.org/"&gt;GPSBabel&lt;/a&gt; installed, and assumes you're reasonably adept at working out how to use various bits of software.&lt;/p&gt;
&lt;p&gt;The first step is to get a KML file of the the cycle trip route.&lt;/p&gt;
&lt;h2&gt;Using Google maps to get a KML file of the route&lt;/h2&gt;
&lt;p&gt;The ways to save directions from Google maps and export them to a KML seems to vary and change depending on exactly which interface to Google maps you are using. The following worked on 2014-11-09.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;go to &lt;a href="https://mapsengine.google.com/map/"&gt;https://mapsengine.google.com/map/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;create a new map&lt;/li&gt;
&lt;li&gt;select the icon for add directions&lt;/li&gt;
&lt;li&gt;enter the start and end points for your cycle trip, and change the mode to cycle.&lt;/li&gt;
&lt;li&gt;click on the folder icon near the top left, and select export to KML&lt;/li&gt;
&lt;li&gt;select directions and download the file.&lt;/li&gt;
&lt;li&gt;this file is a KMZ file which is just a zipped up KML file, extract the KML file using an appropriate archive tool&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Convert the KML file to a GPX file&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Either use an on-line tool such as &lt;a href="http://kml2gpx.com"&gt;kml2gpx&lt;/a&gt; or &lt;a href="http://www.gpsvisualizer.com/"&gt;gpsvisualizer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Or use GPSBabel &lt;a href="http://www.gpsbabel.org/"&gt;http://www.gpsbabel.org/&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Other methods&lt;/h2&gt;
&lt;p&gt;An alternative using the ordinary Google maps interface and gpsbabel is described &lt;a href="http://www.gpsbabel.org/htmldoc-1.5.1/fmt_google.html"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.openrouteservice.org"&gt;openrouteservice.org&lt;/a&gt; allows you to save a route directly as a GPX file, but only works for places in Europe.&lt;/p&gt;
&lt;h2&gt;Get the caches along the route in the GPX file&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Install geotoad and follow &lt;a href="https://code.google.com/p/geotoad/wiki/OtherSearches#Searches_along_a_given_track/route"&gt;these instructions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Copy the geotoad instruction output by the script, add your own login name and password for geocaching.com, save this new command as a bash file, make executable and run.&lt;/li&gt;
&lt;li&gt;The output of this last step should be a GPX file that can be importing into your caching software. It should contain all the caches within the specified distance of your cycle route.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See this &lt;a href="http://www.elfnor.com/translate-cache-descriptions-and-logs.html"&gt;next blog post&lt;/a&gt; if you want to translate the cache descriptions and logs into English (or another language). &lt;/p&gt;
&lt;p&gt;Note: Use geotoad at your own discretion it may not be strictly compatible with the terms of service of geocaching.com.&lt;/p&gt;
&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sun, 09 Nov 2014 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2014-11-09:off-line-caching-along-a-route.html</guid><category>think</category><category>geocaching</category></item><item><title>Drop down and button select menus for Blender Operator add-ons</title><link>http://www.elfnor.com/drop-down-and-button-select-menus-for-blender-operator-add-ons.html</link><description>&lt;p&gt;Note: Examples were tested in Blender 2.71 running on Linux Mint.&lt;/p&gt;
&lt;p&gt;While making the fancy new interface for my &lt;a href="http://elfnor.com/copy-2-add-on-for-blender.html"&gt;copy2 add-on&lt;/a&gt; I needed to work out how to display choices to the user. There are many examples around for drop down menus etc. So many examples that I got rather confused to start with. Here is my best attempt at simplifying this to the essentials.&lt;/p&gt;
&lt;p&gt;If you're new to writing an operator add-on this is the best place to start is with this add-on tutorial at &lt;a href="http://www.blender.org/documentation/blender_python_api_2_71_release/info_tutorial_addon.html"&gt;blender.org&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Any add-on tool you write to add new objects or manipulate objects will typically be a blender &lt;code&gt;Operator&lt;/code&gt; class. This will give you a tool that can be accessed from the existing menus or via a keyboard shortcut. This class gives heaps of functionality such as an easily constructed options panel for the user to interact with and automatically see their changes update.  &lt;/p&gt;
&lt;h2&gt;Simple drop down&lt;/h2&gt;
&lt;p&gt;The following add-on has a simple drop down menu. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;bpy&lt;/span&gt;    

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;DropDownExample&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Operator&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; 
    &lt;span class="n"&gt;bl_idname&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;mesh.dropdownexample&amp;quot;&lt;/span&gt;  
    &lt;span class="n"&gt;bl_label&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Drop Downs&amp;quot;&lt;/span&gt;  
    &lt;span class="n"&gt;bl_options&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;REGISTER&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;UNDO&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; 

    &lt;span class="n"&gt;fixed_items&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;props&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;EnumProperty&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;0&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;A&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;The zeroth item&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;    
                                                 &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;B&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;The first item&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;    
                                                 &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;C&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;The second item&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;    
                                                 &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;D&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;The third item&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
                                                 &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;fixed list&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;      
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;fixed item&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fixed_items&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;FINISHED&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; 

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;add_to_menu&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;operator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;mesh.dropdownexample&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;icon&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;PLUGIN&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;register&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;utils&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;register_module&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;__name__&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;       
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;VIEW3D_MT_object&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;add_to_menu&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;unregister&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;utils&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unregister_module&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;__name__&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;VIEW3D_MT_object&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;remove&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;add_to_menu&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="n"&gt;register&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;All we had to do was add the &lt;code&gt;bpy.props.EnumProperty&lt;/code&gt; as a class attribute. When this code is run blender adds an item &lt;code&gt;Drop Downs&lt;/code&gt; (the name is defined by &lt;code&gt;bl_label&lt;/code&gt;) to the &lt;code&gt;Object&lt;/code&gt; menu in the &lt;code&gt;VIEW3D&lt;/code&gt;. When clicked this new menu item runs the add-on, and blender creates a sub-panel in the tool panel automatically constructing a drop down with the defined items on it. Each time the user changes the selection on the drop down the &lt;code&gt;execute&lt;/code&gt; method is called. In this case it simply prints the value of the selection to the terminal (if blender was started from a terminal). &lt;/p&gt;
&lt;p&gt;The items list contains a list of tuples like so: &lt;code&gt;(value, label, description)&lt;/code&gt;. The &lt;code&gt;value&lt;/code&gt; is what blender return when the attribute is referenced as in the &lt;code&gt;print(self.fixed_items)&lt;/code&gt; will print the &lt;code&gt;value&lt;/code&gt; of the selected item. The &lt;code&gt;label&lt;/code&gt; is what blender displays on the drop down. The &lt;code&gt;description&lt;/code&gt; is what the user sees when they hover the mouse over the item.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;name&lt;/code&gt; is the label displayed above the drop down. Set this to an empty string to have no label.&lt;/p&gt;
&lt;p&gt;&lt;img alt="drop down 01" src="images/Screenshot-drop_down_01.png" /&gt;&lt;/p&gt;
&lt;h2&gt;Selection buttons&lt;/h2&gt;
&lt;p&gt;You can have more control over how the &lt;code&gt;EnumProperty&lt;/code&gt; is displayed to the user by adding a &lt;code&gt;draw&lt;/code&gt; method to the class. &lt;/p&gt;
&lt;p&gt;The &lt;code&gt;layout.prop(self, "radio", expand=True)&lt;/code&gt; changes the drop down to what are sometimes called "radio buttons".&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;bpy&lt;/span&gt;    

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;DropDownExample&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Operator&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; 
    &lt;span class="n"&gt;bl_idname&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;mesh.dropdownexample&amp;quot;&lt;/span&gt;  
    &lt;span class="n"&gt;bl_label&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Drop Downs&amp;quot;&lt;/span&gt;  
    &lt;span class="n"&gt;bl_options&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;REGISTER&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;UNDO&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; 

    &lt;span class="n"&gt;radio&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;props&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;EnumProperty&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;SW&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Shortwave&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;The zeroth item&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;      
                                           &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;AM&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;AM&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;The first item&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;      
                                           &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;FM&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;FM&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;The second item&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;     
                                           &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;NET&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Internet&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;The third item&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;  
                                   &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;radio buttons&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; 

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
        &lt;span class="n"&gt;layout&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt;  
        &lt;span class="n"&gt;layout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;prop&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;radio&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;expand&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;    

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;fixed item&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;radio&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;FINISHED&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; 

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;add_to_menu&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;operator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;mesh.dropdownexample&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;icon&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;PLUGIN&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;register&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;utils&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;register_module&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;__name__&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;       
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;VIEW3D_MT_object&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;add_to_menu&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;unregister&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;utils&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unregister_module&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;__name__&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;VIEW3D_MT_object&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;remove&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;add_to_menu&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  


&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="n"&gt;register&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="drop down 02" src="images/Screenshot-drop_down_02.png" /&gt;&lt;/p&gt;
&lt;p&gt;Within the draw method quite complex layouts can be defined if necessary. See these &lt;a href="http://wiki.blender.org/index.php/Dev:2.5/Py/Scripts/Cookbook/Code_snippets/Interface"&gt;examples&lt;/a&gt; on the blender site.&lt;/p&gt;
&lt;h2&gt;Icons&lt;/h2&gt;
&lt;p&gt;The text can be replaced with icons if desired. In this case each item tuple now has 5 entries.&lt;br /&gt;
&lt;code&gt;(value, label, description, icon name, unique number)&lt;/code&gt;&lt;br /&gt;
The icons avaliable and their names can be found using the &lt;code&gt;Development: Icons&lt;/code&gt; add-on. This adds a panel to the properties panel (&lt;code&gt;CTRL-T&lt;/code&gt;) of the Text Editor view. Hovering the mouse over an icon gives it name and clicking and icon copies its name to the clipboard. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;bpy&lt;/span&gt;    

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;DropDownExample&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Operator&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; 
    &lt;span class="n"&gt;bl_idname&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;mesh.dropdownexample&amp;quot;&lt;/span&gt;  
    &lt;span class="n"&gt;bl_label&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Drop Downs&amp;quot;&lt;/span&gt;  
    &lt;span class="n"&gt;bl_options&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;REGISTER&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;UNDO&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; 


    &lt;span class="n"&gt;icon&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;  &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;props&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;EnumProperty&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;V&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;use vertices&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;VERTEXSEL&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;    
                                           &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;E&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;use edges&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;EDGESEL&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;    
                                           &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;F&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;use faces&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;FACESEL&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt;  
                                   &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Copy To:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  
                                   &lt;span class="n"&gt;description&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;place to copy to&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
        &lt;span class="n"&gt;layout&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt;  
        &lt;span class="n"&gt;layout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;prop&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;icon&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;expand&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;    

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;fixed item&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;icon&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;FINISHED&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; 

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;add_to_menu&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;operator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;mesh.dropdownexample&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;icon&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;PLUGIN&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;register&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;utils&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;register_module&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;__name__&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;       
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;VIEW3D_MT_object&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;add_to_menu&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;unregister&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;utils&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unregister_module&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;__name__&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;VIEW3D_MT_object&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;remove&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;add_to_menu&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  


&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="n"&gt;register&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="drop down 03" src="images/Screenshot-drop_down_03.png" /&gt;&lt;/p&gt;
&lt;h2&gt;Dynamic Lists&lt;/h2&gt;
&lt;p&gt;A callback function can be used to generate the items for the list dynamically. This is useful, for example, for making a list of the objects in the scene for the user to select from. The callback needs to go at the top of the class above the &lt;code&gt;bpy.props.EnumProperty&lt;/code&gt; that uses it.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;bpy&lt;/span&gt;  

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;DropDownExample&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Operator&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="n"&gt;bl_idname&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;mesh.dropdownexample&amp;quot;&lt;/span&gt;  
    &lt;span class="n"&gt;bl_label&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Drop Downs&amp;quot;&lt;/span&gt;  
    &lt;span class="n"&gt;bl_options&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;REGISTER&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;UNDO&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;  

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;item_cb&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;  
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;ob&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ob&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ob&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;ob&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scene&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;objects&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;  

    &lt;span class="n"&gt;objname&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;props&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;EnumProperty&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;item_cb&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  
                                         &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Object&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  
                                         &lt;span class="n"&gt;description&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Choose object here&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;                               

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;object name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;objname&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;FINISHED&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;  

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;add_to_menu&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;operator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;mesh.dropdownexample&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;icon&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;PLUGIN&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;register&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;utils&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;register_module&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;__name__&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;       
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;VIEW3D_PT_tools_object&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;add_to_menu&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;unregister&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;utils&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unregister_module&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;__name__&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;VIEW3D_PT_tools_object&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;remove&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;add_to_menu&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   


&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="n"&gt;register&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="drop down 04" src="images/Screenshot-drop_down_04.png" /&gt;&lt;/p&gt;
&lt;p&gt;The callback should return a list of tuples. The above example will update the list of objects every time the user changes the selection. This may not be what you want if the add-on adds lots of new objects to a scene. For the Copy2 add-on I wanted the list to only contain objects that were in the scene when the user started the add-on.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;invoke&lt;/code&gt; method of the class is only called when the add-on is started. In the following example this is the only place the object list is updated. I've added some code that duplicates the object selected in the drop down 10 times. The new objects are not added to the drop down list until the add-on is rerun from the menu. Note also that as you change which object is selected in the drop down any previously duplicated objects are removed from the scene. This is part of the default undo behaviour of an Operator.&lt;/p&gt;
&lt;p&gt;Of course if you where to make this into a real add-on, it would be best to add the number of objects and the vector direction as user selections. These would be a &lt;code&gt;bpy.props.IntProperty&lt;/code&gt; and a &lt;code&gt;bpy.props.FloatVectorProperty&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;bpy&lt;/span&gt;  
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;mathutils&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Vector&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;DropDownExample&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Operator&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="n"&gt;bl_idname&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;mesh.dropdownexample&amp;quot;&lt;/span&gt;  
    &lt;span class="n"&gt;bl_label&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Drop Downs&amp;quot;&lt;/span&gt;  
    &lt;span class="n"&gt;bl_options&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;REGISTER&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;UNDO&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;  

    &lt;span class="n"&gt;obj_list&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;objects&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;  

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;obj_list_cb&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;  
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;DropDownExample&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;obj_list&lt;/span&gt; 

    &lt;span class="n"&gt;objname&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;props&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;EnumProperty&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;obj_list_cb&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
                                         &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Object&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  
                                         &lt;span class="n"&gt;description&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Choose object here&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;invoke&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;  
        &lt;span class="n"&gt;DropDownExample&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;obj_list&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;objects&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;  
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;FINISHED&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;                             

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;object name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;objname&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="n"&gt;copy_obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;objects&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;objname&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
            &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scene&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;objects&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;link&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;copy_obj&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;copy_obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;location&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;copy_obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;location&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;Vector&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.0&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;FINISHED&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;  

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;add_to_menu&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;operator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;mesh.dropdownexample&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;icon&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;PLUGIN&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;register&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;utils&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;register_module&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;__name__&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;       
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;VIEW3D_PT_tools_object&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;add_to_menu&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;unregister&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;utils&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unregister_module&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;__name__&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;VIEW3D_PT_tools_object&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;remove&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;add_to_menu&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   


&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="n"&gt;register&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If you add the duplication code to the 1st example in this section, the list will update with all the new objects. Not only does this clutter up the list, strange things happen to which item blender thinks is selected.&lt;/p&gt;
&lt;h2&gt;Selections changing other list items.&lt;/h2&gt;
&lt;p&gt;A callback function for the items list can be used to make one list update its items in response to a user selection in another list.  I needed this in the Copy2 add-on where the user needs to select a primary and secondary axis. The primary and secondary axes can't be the same. I could of offered the user a single choice of one of the six pairs but I decided to make the secondary axis list update in response to the primary axis choice.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;bpy&lt;/span&gt;    

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;DropDownExample&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Operator&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; 
    &lt;span class="n"&gt;bl_idname&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;mesh.dropdownexample&amp;quot;&lt;/span&gt;  
    &lt;span class="n"&gt;bl_label&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Drop Downs&amp;quot;&lt;/span&gt;  
    &lt;span class="n"&gt;bl_options&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;REGISTER&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;UNDO&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; 

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;sec_axes_list_cb&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;  
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;priaxes&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;X&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;  
            &lt;span class="n"&gt;sec_list&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Y&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Y&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Y&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Z&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Z&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Z&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;  

        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;priaxes&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Y&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;  
            &lt;span class="n"&gt;sec_list&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;X&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;X&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;X&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Z&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Z&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Z&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;  

        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;priaxes&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Z&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;  
            &lt;span class="n"&gt;sec_list&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;X&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;X&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;X&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Y&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Y&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Y&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;       
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;sec_list&lt;/span&gt;

    &lt;span class="n"&gt;priaxes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;props&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;EnumProperty&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;X&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;X&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;along X&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;  
                                             &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Y&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Y&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;along Y&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;  
                                             &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Z&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Z&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;along Z&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;  
                                             &lt;span class="p"&gt;)&lt;/span&gt;  

    &lt;span class="n"&gt;secaxes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;props&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;EnumProperty&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;sec_axes_list_cb&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Secondary Axis&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;  
        &lt;span class="n"&gt;layout&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt;  

        &lt;span class="n"&gt;layout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;primary axis:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   
        &lt;span class="n"&gt;layout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;prop&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;priaxes&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;expand&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  
        &lt;span class="n"&gt;layout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;secondary axis:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   
        &lt;span class="n"&gt;layout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;prop&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;secaxes&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;expand&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  

        &lt;span class="k"&gt;return&lt;/span&gt;                   


    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;axes&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;priaxes&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;secaxes&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;FINISHED&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; 

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;add_to_menu&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;operator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;mesh.dropdownexample&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;icon&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;PLUGIN&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;register&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;  
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;utils&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;register_module&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;__name__&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;       
    &lt;span class="n"&gt;bpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;VIEW3D_MT_object&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;add_to_menu&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;unregister&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Selections changing which properties are displayed&lt;/h2&gt;
&lt;p&gt;Another way the panel can be made responsive to user selection, is to offer additional properties based on what selections are already made. In the Copy2 plugin the scale options only work in edge mode, so I made it so they are only drawn when edge mode is selected. This is done with some &lt;code&gt;if&lt;/code&gt; statements in the draw method.&lt;/p&gt;
&lt;p&gt;For a example of all these ideas in a real add-on have a look at the source code of the &lt;a href=""&gt;Copy2 add-on&lt;/a&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sun, 14 Sep 2014 22:00:00 +1200</pubDate><guid>tag:www.elfnor.com,2014-09-14:drop-down-and-button-select-menus-for-blender-operator-add-ons.html</guid><category>make</category><category>think</category><category>copy2</category></item><item><title>Copy 2 add-on for blender</title><link>http://www.elfnor.com/copy-2-add-on-for-blender.html</link><description>&lt;p&gt;After forgetting about it for a few years I found my old "copy 2" blender python script. (there's an old thread &lt;a href="http://blenderartists.org/forum/showthread.php?193616-Copy-object-to-face-edge-or-vertex-script-%28updated-to-2-5-3-1%29"&gt;here&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;I've completely rewritten it into a proper add-on with a panel interface. It now works in Blender 2.71. It can be downloaded from my github repository &lt;a href="https://github.com/elfnor/copy2_blender_addon"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The add-on copies an object to either the selected vertices, edges or faces of another object. Here are a couple of examples of the kind of output possible.&lt;/p&gt;
&lt;p&gt;&lt;img alt="radiolaria" src="images/radiolaria.png" /&gt;&lt;/p&gt;
&lt;p&gt;To produce this image an icosphere with a single subdivision was used as the destination object. The spike is an edited cone and was copied to the vertices, the silver torus was copied to the faces and the gold rings to the edges of the icosphere. The icosphere was then deleted.&lt;/p&gt;
&lt;p&gt;By making use of the random select in edit mode prior to using Copy 2 and the randomize transform afterwards, the add-on can be used to quickly greeble objects.&lt;/p&gt;
&lt;p&gt;It can also be used to make ball and stick models of a mesh. Copy a sphere to the vertices and a cylinder to the edges. When copy to an edge is selected, the additional option to scale an object to the edge length is given.&lt;/p&gt;
&lt;p&gt;&lt;img alt="twisted torus" src="images/twisted_torus.png" /&gt;&lt;/p&gt;
&lt;h2&gt;Basic steps&lt;/h2&gt;
&lt;p&gt;&lt;img alt="screenshot" src="images/screenshot.png" /&gt;&lt;/p&gt;
&lt;p&gt;Install the add-on through the User Preferences dialog.&lt;/p&gt;
&lt;p&gt;Create a destination object, use &lt;code&gt;CTRL-A&lt;/code&gt; to apply any scale and rotation to the object.&lt;br /&gt;
In &lt;code&gt;EDIT&lt;/code&gt; mode select the vertices, edges or faces to which you want to copy the source object.  &lt;/p&gt;
&lt;p&gt;Create a source object,&lt;br /&gt;
In &lt;code&gt;EDIT&lt;/code&gt; mode move the object relative to the object origin. The object origin is the point that is copied onto the mesh.&lt;br /&gt;
In &lt;code&gt;OBJECT&lt;/code&gt; mode use &lt;code&gt;CTRL-A&lt;/code&gt; to apply any scale and rotation to the source object.  &lt;/p&gt;
&lt;p&gt;Select the destination object, and run the add-on, &lt;code&gt;Object &amp;gt; Copy 2&lt;/code&gt;.&lt;br /&gt;
A sub panel will appear on the tool panel.&lt;br /&gt;
Choose the source object from the drop down menu.&lt;br /&gt;
Choose by selecting the appropriate icon, whether to copy to the vertices, edges or faces of the destination object.&lt;br /&gt;
Select the primary and secondary axes to determine the orientation of the source object with respect to the normals of the destination object.  &lt;/p&gt;
&lt;p&gt;For the vertex option;&lt;br /&gt;
the primary axis is aligned along the vertex normal;&lt;br /&gt;
the secondary axis is aligned to point along one edge of the mesh.&lt;/p&gt;
&lt;p&gt;For the edge option;&lt;br /&gt;
the primary axis is aligned along the average of the edge's vertex normals;&lt;br /&gt;
the secondary axis is aligned along the edge.&lt;/p&gt;
&lt;p&gt;In edge mode, the option to scale the source object to the length of the edge appears.
One can also change the scale factor.&lt;/p&gt;
&lt;p&gt;For the face option; &lt;br /&gt;
the primary axis is aligned along the face normal;&lt;br /&gt;
the secondary axis is aligned to point to one vertex of the face.&lt;/p&gt;
&lt;p&gt;Otherwise click the axes alignment buttons until it looks right.&lt;/p&gt;
&lt;p&gt;When finished the copied objects are selected, if desired further operators can be applied such as the &lt;code&gt;Object &amp;gt; Transform &amp;gt; Randomize Transform&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The copied objects' data are also linked to the source object.  This is useful to make further refinements to the scale or position of the source mesh relative to the source object origin.  If this is not desired they can easily be unlinked. Select them all (select one, then &lt;code&gt;Select &amp;gt; Linked &amp;gt; Object Data&lt;/code&gt;) then &lt;code&gt;Object &amp;gt; Make Single User &amp;gt; Object &amp;amp; Data&lt;/code&gt; for one mesh per object.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Tue, 02 Sep 2014 22:00:00 +1200</pubDate><guid>tag:www.elfnor.com,2014-09-02:copy-2-add-on-for-blender.html</guid><category>make</category><category>think</category><category>copy2</category></item><item><title>Parametric Surfaces in Blender</title><link>http://www.elfnor.com/parametric-surfaces-in-blender.html</link><description>&lt;p&gt;The &lt;a href="http://www.blender.org/"&gt;Blender&lt;/a&gt; 3D modeling and rendering package has an add-on for mathematically defined surfaces. It is enabled via the Extra Objects add-on under &lt;code&gt;File &amp;gt; User Preferences&amp;gt; Addons&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;XYZ Math Surface&lt;/code&gt; can be used to construct meshes for parametric surfaces. The parametric surface is defined by three functions of two variables &lt;mathjax&gt;$u$&lt;/mathjax&gt; and &lt;mathjax&gt;$v$&lt;/mathjax&gt;:&lt;/p&gt;
&lt;p&gt;&lt;mathjax&gt;$$
x = X(u,v)
$$&lt;/mathjax&gt;
&lt;mathjax&gt;$$
y = Y(u,v)
$$&lt;/mathjax&gt;
&lt;mathjax&gt;$$
z = Z(u,v)
$$&lt;/mathjax&gt;&lt;/p&gt;
&lt;p&gt;The &lt;a href="http://wiki.blender.org/index.php/Extensions:2.6/Py/Scripts/Add_Mesh/Add_3d_Function_Surface"&gt;documentation page&lt;/a&gt; for the add-on has a number of example surfaces, but there are a lot more interesting named surfaces out there.&lt;/p&gt;
&lt;p&gt;Its fairly easy to enter any formulae you find for a parametric 3D surface into Blender and save it as an &lt;code&gt;Operator Preset&lt;/code&gt;. I've uploaded my collection of saved presets to a github &lt;a href="https://github.com/elfnor/blender_XYZ_surface_presets"&gt;repo&lt;/a&gt;. I haven't included every named surface out there, just ones I think might make interesting images. &lt;/p&gt;
&lt;p&gt;Here are a couple of images produced using the XYZ Math Surface add-on.&lt;/p&gt;
&lt;h2&gt;Dini&lt;/h2&gt;
&lt;p&gt;&lt;img alt="Dini Surface" src="images/dini_01.png" /&gt;&lt;/p&gt;
&lt;h2&gt;Twisted Torus&lt;/h2&gt;
&lt;p&gt;&lt;img alt="twisted torus" src="images/twisted_torus_02.png" /&gt;&lt;/p&gt;
&lt;h2&gt;Stereosphere&lt;/h2&gt;
&lt;p&gt;A stereosphere is the projection of a plane grid onto a sphere with the projection lines going through the top pole of the sphere. In the following image there is a point source light at the north pole of the stereosphere (the light is represented by the yellow dot). This light then does a stereographic projection of the sphere back onto the plane producing the grid present on the ground plane.&lt;/p&gt;
&lt;p&gt;&lt;img alt="stereosphere" src="images/stereosphere_01.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;div&gt;&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https:' == document.location.protocol
                ? 'https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'
                : 'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sun, 03 Aug 2014 22:00:00 +1200</pubDate><guid>tag:www.elfnor.com,2014-08-03:parametric-surfaces-in-blender.html</guid><category>make</category><category>think</category><category>blender</category></item><item><title>Responsive Theme for gthumb Web Albums</title><link>http://www.elfnor.com/responsive-theme-for-gthumb-web-albums.html</link><description>&lt;p&gt;I want to include a lot of the art works stuff I have on my &lt;a href="http://elfnor.deviantart.com/"&gt;Deviant Art&lt;/a&gt; on this site. I'm looking at the basic format of a static web album with a title, image and description for each art work. I looked at a number of packages including &lt;a href="https://github.com/saimn/sigal"&gt;sigal&lt;/a&gt; and &lt;a href="http://home.gna.org/llgal/"&gt;llgal&lt;/a&gt; but settled on &lt;a href="https://wiki.gnome.org/Apps/gthumb"&gt;gthumb&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Gthumb is mainly a image viewer and browser for the GNOME desktop, but it also includes a static web album generator. It has themes based on a set of templates and CSS files. &lt;/p&gt;
&lt;p&gt;Of course I couldn't help fiddling with the templates and the Responsive Dark theme is the result. On a wide screen the description is to the right of the image, on a narrow screen the description is below the image. &lt;/p&gt;
&lt;p&gt;The theme requires the description and title for each image to be entered into their respective exif tags. This is easy to do using gthumb itself. You can use some basic html such as &lt;code&gt;&amp;lt;br&amp;gt;&lt;/code&gt; tags in the description field to give basic formatting.&lt;/p&gt;
&lt;p&gt;To install the theme, download this &lt;a href="https://github.com/elfnor/gthumb_responsive_theme"&gt;repository&lt;/a&gt; (see download zip button on the right of the github page). Unzip and copy the &lt;code&gt;Responsive_Dark&lt;/code&gt; folder to the gthumb theme location. On my Linux Mint installation this is &lt;code&gt;/usr/share/gthumb/albumthemes/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Start gthumb, choose the files for the web album, select &lt;code&gt;File&amp;gt;Export To&amp;gt;Web Album&lt;/code&gt;. Select the &lt;code&gt;Responsive Dark&lt;/code&gt; theme from the Theme box. Make sure &lt;code&gt;Adapt to the window width&lt;/code&gt; is set on the &lt;code&gt;Index Page&lt;/code&gt; tab.&lt;/p&gt;
&lt;p&gt;Other settings I also used:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Index Page&lt;/code&gt; tab:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Thumbnail Caption&lt;/code&gt;  set to &lt;code&gt;Title&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;All images on a single page&lt;/code&gt; set&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;Image Page&lt;/code&gt; tab:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Show the description, if available&lt;/code&gt; set&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Show the following attributes:&lt;/code&gt; set to &lt;code&gt;Title&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Screenshots&lt;/h2&gt;
&lt;h3&gt;Index Page&lt;/h3&gt;
&lt;p&gt;&lt;img alt="index screen shots" src="http://www.elfnor.com/images/index_screen.png" /&gt;&lt;/p&gt;
&lt;h3&gt;Image Page&lt;/h3&gt;
&lt;p&gt;&lt;img alt="image screen shots" src="http://www.elfnor.com/images/image_screen.png" /&gt;&lt;/p&gt;
&lt;h2&gt;Demo Album&lt;/h2&gt;
&lt;p&gt;There's a demo album &lt;a href="http://elfnor.github.io/artworksgallery/index.html"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sat, 26 Jul 2014 22:00:00 +1200</pubDate><guid>tag:www.elfnor.com,2014-07-26:responsive-theme-for-gthumb-web-albums.html</guid><category>make</category><category>think</category><category>webalbum</category></item><item><title>Symmetry Group Links and Notation</title><link>http://www.elfnor.com/Symmetry%20Group%20Links%20and%20Notation.html</link><description>&lt;p&gt;There are many great resources on the 17 plane symmetry groups.&lt;/p&gt;
&lt;p&gt;I made great use of a couple of on-line apps while writing my &lt;a href="http://www.elfnor.com/Symmetry Tile plug-in for GIMP.html"&gt;Symmetry Tile plug-in.&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Morenaments&lt;/h2&gt;
&lt;p&gt;&lt;img alt="morenaments" src="http://www.elfnor.com/images/morenaments.png" /&gt;&lt;/p&gt;
&lt;p&gt;This great Java applet can either be used &lt;a href="http://www.morenaments.de/euc/applet"&gt;here on-line&lt;/a&gt; or &lt;a href="http://www.morenaments.de/euc/"&gt;downloaded&lt;/a&gt; as a &lt;code&gt;jar&lt;/code&gt; file and run locally.&lt;/p&gt;
&lt;p&gt;It allows you to draw on a canvas that automatically completes the chosen symmetry group.Be sure to investigate the menu on the top-right. Selecting tile and/or cell under the grid menu will show these on the pattern canvas and help with seeing the structure underlying a particular symmetry. Look in the manual under help for more information. Be sure to try dragging the coloured dots in the tile view around. These can show how the same symmetry pattern can have different shaped cell or tile.&lt;/p&gt;
&lt;h2&gt;Kali&lt;/h2&gt;
&lt;p&gt;&lt;img alt="kali" src="http://www.elfnor.com/images/kali.png" /&gt;&lt;/p&gt;
&lt;p&gt;This on-line Java applet can be used &lt;a href="http://www.scienceu.com/geometry/handson/kali/"&gt;here&lt;/a&gt;. Its much easier to do straight lines in this app. It uses the orbifold notation for the symmetry groups.&lt;/p&gt;
&lt;h2&gt;Books&lt;/h2&gt;
&lt;p&gt;The two books I consulted the most while working on this plug-in were:  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.amazon.com/Handbook-Regular-Patterns-Introduction-Dimensions/dp/0262690888"&gt;"Handbook of Regular Patterns: An Introduction to Symmetry in Two Dimensions" by Peter S. Stevens&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.amazon.com/Designing-Tessellations-Secrets-Interlocking-Patterns/dp/0809228661/"&gt;"Designing Tessellations: The Secret of Interlocking Patterns" by Jinny Beyer&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;All of these references use different notations and descriptions for the symmetry groups. I've summarised them in the following table for easy reference. The Symmetry Tile plug-in uses the notation in the left most column.&lt;/p&gt;
&lt;h2&gt;Notation for Symmetry Groups&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Crystallography&lt;/th&gt;
&lt;th&gt;full&lt;/th&gt;
&lt;th&gt;Terrazo&lt;/th&gt;
&lt;th&gt;Jinny Beyer's description&lt;/th&gt;
&lt;th&gt;Orbifold&lt;/th&gt;
&lt;th&gt;Peter S. Stevens's description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;p1&lt;/td&gt;
&lt;td&gt;p1&lt;/td&gt;
&lt;td&gt;Gold Brick&lt;/td&gt;
&lt;td&gt;Translation&lt;/td&gt;
&lt;td&gt;o&lt;/td&gt;
&lt;td&gt;Two Nonparallel Translations&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;p2&lt;/td&gt;
&lt;td&gt;p211&lt;/td&gt;
&lt;td&gt;Hither &amp;amp; Yon&lt;/td&gt;
&lt;td&gt;Midpoint or Half-Turn Rotation&lt;/td&gt;
&lt;td&gt;2222&lt;/td&gt;
&lt;td&gt;Four Half-Turns&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;pm&lt;/td&gt;
&lt;td&gt;p1m1&lt;/td&gt;
&lt;td&gt;Wings&lt;/td&gt;
&lt;td&gt;Mirror&lt;/td&gt;
&lt;td&gt;**&lt;/td&gt;
&lt;td&gt;Two Parallel Mirrors&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;pg&lt;/td&gt;
&lt;td&gt;p1g1&lt;/td&gt;
&lt;td&gt;Card Tricks&lt;/td&gt;
&lt;td&gt;Glide&lt;/td&gt;
&lt;td&gt;xx&lt;/td&gt;
&lt;td&gt;Two Parallel Glide Reflections&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;pgg&lt;/td&gt;
&lt;td&gt;p2gg&lt;/td&gt;
&lt;td&gt;Honey Bees&lt;/td&gt;
&lt;td&gt;Double Glide&lt;/td&gt;
&lt;td&gt;22x&lt;/td&gt;
&lt;td&gt;Two Perpendicular Glide Reflections&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;pmm&lt;/td&gt;
&lt;td&gt;p2mm&lt;/td&gt;
&lt;td&gt;Prickly Pear&lt;/td&gt;
&lt;td&gt;Double Mirror&lt;/td&gt;
&lt;td&gt;*2222&lt;/td&gt;
&lt;td&gt;Reflections in Four Sides of a Rectangle&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;pmg&lt;/td&gt;
&lt;td&gt;p2mg&lt;/td&gt;
&lt;td&gt;Lightning&lt;/td&gt;
&lt;td&gt;Glided Staggered Mirror&lt;/td&gt;
&lt;td&gt;22*&lt;/td&gt;
&lt;td&gt;A Mirror and a Perpendicular Reflection&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cm&lt;/td&gt;
&lt;td&gt;c1m1&lt;/td&gt;
&lt;td&gt;Crab Claws&lt;/td&gt;
&lt;td&gt;Staggered Mirror&lt;/td&gt;
&lt;td&gt;*x&lt;/td&gt;
&lt;td&gt;A Reflection and a Parallel Glide Reflection&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cmm&lt;/td&gt;
&lt;td&gt;c2mm&lt;/td&gt;
&lt;td&gt;Spider Web&lt;/td&gt;
&lt;td&gt;Staggered Double Mirror&lt;/td&gt;
&lt;td&gt;2*22&lt;/td&gt;
&lt;td&gt;Perpendicular Mirrors and Perpendicular Glide Reflections&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;p4&lt;/td&gt;
&lt;td&gt;p4gm&lt;/td&gt;
&lt;td&gt;Pinwheel&lt;/td&gt;
&lt;td&gt;Pinwheel or Quarter-Turn Rotation&lt;/td&gt;
&lt;td&gt;442&lt;/td&gt;
&lt;td&gt;Quarter-Turns&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;p3m1&lt;/td&gt;
&lt;td&gt;p3m1&lt;/td&gt;
&lt;td&gt;Winding Ways&lt;/td&gt;
&lt;td&gt;Mirror and Three Rotations&lt;/td&gt;
&lt;td&gt;*333&lt;/td&gt;
&lt;td&gt;Reflections in an Equilateral Triangle&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;p3&lt;/td&gt;
&lt;td&gt;p3&lt;/td&gt;
&lt;td&gt;Storm at Sea&lt;/td&gt;
&lt;td&gt;Three Rotation&lt;/td&gt;
&lt;td&gt;333&lt;/td&gt;
&lt;td&gt;Three Rotations through 120°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;p4g&lt;/td&gt;
&lt;td&gt;p4gm&lt;/td&gt;
&lt;td&gt;Primrose Path&lt;/td&gt;
&lt;td&gt;Mirrored Pinwheel&lt;/td&gt;
&lt;td&gt;4*2&lt;/td&gt;
&lt;td&gt;Reflections of Quarter-Turns&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;p4m&lt;/td&gt;
&lt;td&gt;p4mm&lt;/td&gt;
&lt;td&gt;Sunflower&lt;/td&gt;
&lt;td&gt;Traditional Block&lt;/td&gt;
&lt;td&gt;*442&lt;/td&gt;
&lt;td&gt;Reflections on the Sides of a 45°-45°-90° Triangle&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;p6&lt;/td&gt;
&lt;td&gt;p6&lt;/td&gt;
&lt;td&gt;Whirlpool&lt;/td&gt;
&lt;td&gt;Six Rotation&lt;/td&gt;
&lt;td&gt;632&lt;/td&gt;
&lt;td&gt;Sixfold Rotation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;p31m&lt;/td&gt;
&lt;td&gt;p31m&lt;/td&gt;
&lt;td&gt;Monkey Wrench&lt;/td&gt;
&lt;td&gt;Three Rotations and a Mirror&lt;/td&gt;
&lt;td&gt;3*3&lt;/td&gt;
&lt;td&gt;Refections of 120° Turns&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;p6m&lt;/td&gt;
&lt;td&gt;p6mm&lt;/td&gt;
&lt;td&gt;Turnstile&lt;/td&gt;
&lt;td&gt;Kaleidoscope&lt;/td&gt;
&lt;td&gt;*632&lt;/td&gt;
&lt;td&gt;Refections in the Sides of a 30°-60°-90° Triangle&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The symmetry groups that can be made with rectangular or square cells can be defined using the &lt;a href="http://www.elfnor.com/Symmetry Tile plug-in for GIMP.html#bdpq"&gt;"bdpq" notation&lt;/a&gt;. If the "bdpq" string contains a plus sign then the cell must be square. The strings for all the symmetry groups start with a "b". Each of the symmetry groups could be created with an alternative string starting with one of the other letters.&lt;/p&gt;
&lt;p&gt;The 32 strings here are this produced by the Symmetry Tile plugin when "all square cells" is selected and "Multiple" is set to "Yes". When "Multiple" is set to "No" only one string from each symmetry group is used.&lt;/p&gt;
&lt;table&gt;
  &lt;tr&gt;
    &lt;th&gt;Symmetry Group&lt;/th&gt;
    &lt;th&gt;bdpq string&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;p1&lt;/td&gt;
    &lt;td&gt;b&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;p2&lt;/td&gt;
    &lt;td&gt;bq&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;b|q&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;bq|qb&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;pm&lt;/td&gt;
    &lt;td&gt;bd&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;b|p&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;cm&lt;/td&gt;
    &lt;td&gt;bp|pb&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;bd|db&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;cmm&lt;/td&gt;
    &lt;td&gt;bdpq|pqbd&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;bd|qp|db|pq&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;bqpd|pdbq&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;bd|pq|db|qp&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;pg&lt;/td&gt;
    &lt;td&gt;bp&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;b|d&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;bd+|d+b&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;bp+|p+b&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;pgg&lt;/td&gt;
    &lt;td&gt;bp|dq&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;bq|dp&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;bp|qd&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;pmg&lt;/td&gt;
    &lt;td&gt;bd|qp&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;b|p|d|q&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;b|q|d|p&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;bdpq&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;bqpd&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;bq|pd&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;pmm&lt;/td&gt;
    &lt;td&gt;bd|pq&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;p4&lt;/td&gt;
    &lt;td&gt;bb+|q+q&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;bq+|b+q&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;p4g&lt;/td&gt;
    &lt;td&gt;bdp+b+|pqq+d+|p+b+bd|q+d+pq&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;bdd+q+|b+p+pq|d+q+bd|pqb+p+&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;bb+p+d|q+qpd+|p+dbb+|pd+q+q&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;bq+d+d|pp+b+q|d+dbq+|b+qpp+&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Fri, 18 Jul 2014 22:00:00 +1200</pubDate><guid>tag:www.elfnor.com,2014-07-18:Symmetry Group Links and Notation.html</guid><category>make</category><category>think</category><category>symmetrytile</category></item><item><title>Symmetry Tile with non-rectangular cells</title><link>http://www.elfnor.com/Symmetry%20Tile%20with%20non-rectangular%20cells.html</link><description>&lt;p&gt;With the Symmetry Tile plug-in the user selects an area using the rectangle select tool, before running the plug-in. The plug-in then derives a cell to use to form the user's choice of symmetry pattern. For many of the symmetries that derived cell is the same as the selected rectangle. Some of the symmetries need a cell shape other than the rectangle. Those cell shapes and their relation to the user's rectangle are shown below, along with the symmetry groups that use that cell shape.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Derived Cells" src="images/derived_cells.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Square&lt;/strong&gt; - p4, p4g, pg (some)&lt;br /&gt;
&lt;strong&gt;Equilateral Triangle&lt;/strong&gt; - p3m1, p6&lt;br /&gt;
&lt;strong&gt;Half square triangle&lt;/strong&gt; - p4m&lt;br /&gt;
&lt;strong&gt;90, 60 and 30 degree triangle&lt;/strong&gt; - p6m&lt;br /&gt;
&lt;strong&gt;Diamond&lt;/strong&gt; - p3&lt;br /&gt;
&lt;strong&gt;Kite&lt;/strong&gt; - p31m  &lt;/p&gt;
&lt;p&gt;In many cases the user may want to create specific content to fill the required cell shape. It would be easier to have this shape on the screen to help you to draw the cell content in the correct place. Here's how to do that. I'll use the kite shaped cell here as an example but this method applies to any of the non-rectangular cells.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create a new image with a transparent background. &lt;/li&gt;
&lt;li&gt;Select a rectangle about the size you want your cell to be. &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="odd_cells_01" src="images/Screenshot-GIMP-odd_cells_01.png" /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Run the Symmetry Tile plug-in, choosing a symmetry group that uses the desired cell (p31m for the kite). This will produce a blank transparent image which can be discarded. The plug-in will also leave the correct shaped cell selected in the original image.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="odd_cells_02" src="images/Screenshot-GIMP-odd_cells_02.png" /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Convert that selection to a path. (Select&amp;gt; To Path). &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="odd_cells_03" src="images/Screenshot-GIMP-odd_cells_03.png" /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The path can now be used as a guide to the cell shape. Use it to draw the cell content in the correct place, filling the cell area with brush strokes etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="odd_cells_04" src="images/Screenshot-GIMP-odd_cells_04.png" /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Select the path, convert it back to a selection  and re run the plug-in.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="odd_cells_05" src="images/Screenshot-GIMP-odd_cells_05.png" /&gt;&lt;/p&gt;
&lt;p&gt;Credit for this method is due to lylejk who posted it over on &lt;a href="http://www.gimpchat.com/viewtopic.php?f=9&amp;amp;t=10683&amp;amp;start=30#p141775"&gt;gimpchat&lt;/a&gt;.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sun, 13 Jul 2014 22:00:00 +1200</pubDate><guid>tag:www.elfnor.com,2014-07-13:Symmetry Tile with non-rectangular cells.html</guid><category>make</category><category>think</category><category>symmetrytile</category></item><item><title>Using the Symmetry Tile plug-in for Quilt Design</title><link>http://www.elfnor.com/Using%20the%20Symmetry%20Tile%20plug-in%20for%20Quilt%20Design.html</link><description>&lt;p&gt;The block patterns used in quilts are a great example of a pattern with repeating symmetry. Using a computer to play with these repeating symmetry patterns is a great way to design quilts. &lt;/p&gt;
&lt;p&gt;I've written a plug-in for a image editing program called &lt;a href="http://www.gimp.org/"&gt;GIMP&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;GIMP is an acronym for GNU Image Manipulation Program. It is a freely distributed program for such tasks as photo retouching, image composition and image authoring.&lt;/p&gt;
&lt;p&gt;It has many capabilities. It can be used as a simple paint program, an expert quality photo retouching program, an online batch processing system, a mass production image renderer, an image format converter, etc.&lt;/p&gt;
&lt;p&gt;GIMP is expandable and extensible. It is designed to be augmented with plug-ins and extensions to do just about anything. The advanced scripting interface allows everything from the simplest task to the most complex image manipulation procedures to be easily scripted.&lt;/p&gt;
&lt;p&gt;GIMP is written and developed under X11 on UNIX platforms. But basically the same code also runs on MS Windows and Mac OS X. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The plug-in I've written is called Symmetry Tile and instructions on downloading and installing it can be found &lt;a href="http://elfnor.github.io/lookthinkmake/Symmetry%20Tile%20plug-in%20for%20GIMP.html"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This plug-in takes the selection from an image ("cell") and produces a new image according to 
one of the &lt;a href="http://en.wikipedia.org/wiki/Wallpaper_groups"&gt;17 plane symmetry groups &lt;/a&gt;. These are also known as wallpaper groups or plane crystallographic groups. &lt;/p&gt;
&lt;p&gt;Basically it rotates and or flips copies of the cell, combines them to form a tile and then copies that tile to fill a new image.&lt;/p&gt;
&lt;p&gt;Some galleries of images produced with this plug-in can be found &lt;a href="http://elfnor.github.io/symmetrytilegallery"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This post gives some examples of how you might use Symmetry Tile for quilt design. It presumes you're familiar with the basics of using GIMP, but should be able to be followed by someone who has used similar programs such as Photoshop or Photopaint.&lt;/p&gt;
&lt;h2&gt;The basic block element of the design.&lt;/h2&gt;
&lt;p&gt;Create a new image from the file menu. Start off fairly small say 200 x 200 pixels. We're going to end up with lots of copies of this across the screen, and there's not a lot of point in working at very high resolution.&lt;/p&gt;
&lt;p&gt;Turn on the grid and 'snap to grid' from the edit menu. Choose the pencil from the toolbox and set it to maybe 1 or 2 pixels in size.&lt;/p&gt;
&lt;p&gt;Draw a square 120 X 120 pixels, and then some straight lines inside to make the seam lines on a basic block. You'll make more different patterns if your basic block is non-symmetric. The block on the left is non-symmetric. The block on the right would look the same if it was flipped or mirrored about the dotted blue line. &lt;/p&gt;
&lt;p&gt;&lt;img alt="line blocks" src="images/two_cells_lines.png" /&gt;&lt;/p&gt;
&lt;p&gt;Use the fill tool (bucket) to fill each piece with a colour or pattern. Once coloured in a symmetric block can become non-symmetric. The block on the right with the coloured fill, no longer looks the same if it is flipped or mirrored. &lt;/p&gt;
&lt;p&gt;&lt;img alt="filled blocks" src="images/two_cells.png" /&gt;&lt;/p&gt;
&lt;h2&gt;Playing with symmetry&lt;/h2&gt;
&lt;p&gt;Use the rectangular select tool to select the block. Find the Symmetry Tile Plug-in under Render on the Filters menu.
Choose the image size to be a multiple of the block size, say 720 x 720 pixels. Choose one of the symmetry groups and click OK to see the result. Experiment with different symmetry groups to see what they do. For the complete effect choose &lt;code&gt;all square cells&lt;/code&gt; from the Symmetry Groups menu and set Multiple images to &lt;code&gt;Yes&lt;/code&gt;. Your screen should fill up with 32 images (they may all be hiding under the top image). &lt;/p&gt;
&lt;p&gt;If you used the original cell, I used above, then amongst all those images will be some familiar to traditional quilters. &lt;/p&gt;
&lt;h3&gt;Pinwheels&lt;/h3&gt;
&lt;p&gt;&lt;img alt="pinwheels" src="images/p4_bbtlqtq.png" /&gt;&lt;/p&gt;
&lt;h3&gt;Flying Geese&lt;/h3&gt;
&lt;p&gt;&lt;img alt="flying geese" src="images/cm_bplpb.png" /&gt;&lt;/p&gt;
&lt;h3&gt;Double Zigzag&lt;/h3&gt;
&lt;p&gt;&lt;img alt="double zigzag" src="images/cmm_bdlqpldblpq.png" /&gt;&lt;/p&gt;
&lt;h3&gt;Hourglass&lt;/h3&gt;
&lt;p&gt;&lt;img alt="hourglass" src="images/p4g_bbtptdlqtqpdtlptdbbtlpdtqtq.png" /&gt;&lt;/p&gt;
&lt;p&gt;Where you go from here is up to you. A sampler quilt with a selection of these design separated by borders is one possibility. &lt;/p&gt;
&lt;p&gt;I next opened a new much larger image and copied then pasted as layer some of the designs I liked the look of. With each designed as a separate layer they can be moved around and under each other until a potential quilt design is arrived at. The design below has about 5 different patterns arranged so the design morphs from one pattern to the next. It takes a little bit of time to catch on that only one basic block is used to achieve the different patterns.&lt;/p&gt;
&lt;p&gt;&lt;img alt="quilt design" src="images/quilt_02.png" /&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sat, 12 Jul 2014 22:00:00 +1200</pubDate><guid>tag:www.elfnor.com,2014-07-12:Using the Symmetry Tile plug-in for Quilt Design.html</guid><category>make</category><category>think</category><category>symmetrytile</category></item><item><title>Symmetry Tile plug-in for GIMP</title><link>http://www.elfnor.com/Symmetry%20Tile%20plug-in%20for%20GIMP.html</link><description>&lt;p&gt;These are the docs for my Symmetry Tile plug-in for GIMP.&lt;/p&gt;
&lt;p&gt;The plug-in can be obtained &lt;a href="https://www.github.com/elfnor/symmetrytile"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This plug-in takes the selection from an image ("cell") and produces a new image according to 
one of the &lt;a href="http://en.wikipedia.org/wiki/Wallpaper_groups"&gt;17 plane symmetry groups &lt;/a&gt;. These are also known as wallpaper groups or plane crystallographic groups. &lt;/p&gt;
&lt;p&gt;Basically it rotates and or flips copies of the cell, combines them to form a tile and then copies that tile to fill a new image.&lt;/p&gt;
&lt;p&gt;Some galleries of images produced with this plug-in can be found &lt;a href="http://elfnor.github.io/symmetrytilegallery"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Installation&lt;/h2&gt;
&lt;p&gt;Requires &lt;a href="http://www.gimp.org/"&gt;GIMP&lt;/a&gt; to be installed.&lt;/p&gt;
&lt;p&gt;From within GIMP find out where your plug-in directory is:&lt;/p&gt;
&lt;p&gt;Edit&amp;gt;Preferences&amp;gt;Folders&amp;gt;Plug-ins&lt;/p&gt;
&lt;p&gt;For Linux the plug-in directory will probably be &lt;code&gt;~/.gimp-2.8/plugins&lt;/code&gt;
Copy the file &lt;code&gt;symmetry_tile.py&lt;/code&gt; to this folder and make it "executable". To do this: select the plug-in from your file browser, click properties and check the box "Allow executable" under the permissions tab.&lt;/p&gt;
&lt;p&gt;For Windows the plug-in directory will be probably be &lt;code&gt;C:\Users\username\gimp-2.8\plug-ins&lt;/code&gt;. Copy the file &lt;code&gt;symmetry_tile.py&lt;/code&gt; to this folder.&lt;/p&gt;
&lt;p&gt;Restart GIMP to activate the plugin.&lt;/p&gt;
&lt;h2&gt;Usage&lt;/h2&gt;
&lt;p&gt;Select an area on an image using the rectangle select tool.
Start the plug-in via Filters&amp;gt;Render&amp;gt;Symmetry Tile&lt;/p&gt;
&lt;p&gt;You should see the following dialog. &lt;/p&gt;
&lt;p&gt;&lt;img alt="plugin dialog" src="images/plugin_dialog.png" /&gt;&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;Height&lt;/code&gt; and &lt;code&gt;Width&lt;/code&gt; parameters determine the size of the new image.
The &lt;code&gt;Symmetry group&lt;/code&gt; drop down gives you the choice of one of the 17 symmetry groups p1, p2 through to p6m. The last three entries I'll cover later. &lt;/p&gt;
&lt;p&gt;The &lt;code&gt;Multiple Images&lt;/code&gt; toggle is set by default to &lt;code&gt;No&lt;/code&gt;. In this mode it produces one image for the chosen symmetry group. Some groups (p2, pm, cm, cmm, pg, pgg, pmg, p4, p4g, p6) can produce different patterns depending on, for example, which corner of the cell a copy is rotated around to form the tile. If the &lt;code&gt;Multiple Images&lt;/code&gt; toogle is set to &lt;code&gt;Yes&lt;/code&gt;, a separate image is produced for each of these different patterns.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;bdpq string&lt;/code&gt; entry box is covered below under Escher's Potato Game.&lt;/p&gt;
&lt;h3&gt;Deriving the initial cell&lt;/h3&gt;
&lt;p&gt;Many of the symmetry groups can be produced from a rectangular cell (p1, p2, pm, cm, cmm, pg, pgg, pmg, pmm). These groups use the user selection unmodified. Some groups (p4, p4g) require an initial square cell. In this case, a square primary cell is derived from the user's initial rectangular selection. The left most side of the rectangle is used as the left edge of the square.&lt;/p&gt;
&lt;p&gt;Two groups (p3m1, p6) are produced from a equilateral triangle shaped cell. This cell is derived from the user's rectangular selection with the triangle sharing the rectangle's left side, and the triangle pointing to the right.&lt;/p&gt;
&lt;p&gt;The p4m group requires a half square triangle for the initial cell.  The left most side of the user's rectangle is used as the left edge of the triangle, with the rectangle and triangle sharing the top left corner.&lt;/p&gt;
&lt;p&gt;The p6m group requires a triangle with internal angles of 90, 60 and 30 degrees for the initial cell. The left most side of the rectangle is used as the left longer edge of the triangle, with the rectangle and triangle sharing the top left corner. &lt;/p&gt;
&lt;p&gt;The p3 group needs a diamond shape (rhombus) with internal angles of 30 and 60 degrees for the initial cell. The diamond shares the rectangle's left side and the diamond points down and to the right.&lt;/p&gt;
&lt;p&gt;The p31m group uses a kite shape for the initial cell. The kite shares the rectangle's left side and the top left corner.&lt;/p&gt;
&lt;p&gt;The figure below  illustrates this, with the user's rectangular selection shown as a dotted line and the derived initial cell as a solid line.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Derived Cells" src="images/derived_cells.png" /&gt;&lt;/p&gt;
&lt;h2&gt;Last 3 Symmetry group options&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;17 groups&lt;/code&gt; option makes all the patterns from the same user selection. If &lt;code&gt;Multiple Images&lt;/code&gt; is set to &lt;code&gt;No&lt;/code&gt; this will produce 17 images. If it is set to &lt;code&gt;Yes&lt;/code&gt;, 40 images will be produced. Depending on your machine's capability its probably not a good idea to make 40 very large images!&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;all square cells&lt;/code&gt; option derives a square cell and uses it for all the groups that can be made with a square cell. There are 11 images produced without &lt;code&gt;Multiple Images&lt;/code&gt; set and 32 images when &lt;code&gt;Multiple Images&lt;/code&gt; is set.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Escher's Potato Game&lt;/code&gt; is briefly described &lt;a href="http://www.eschertiles.com/index.html"&gt;here&lt;/a&gt; along with an interactive app. This paper &lt;a href="http://www.combinatorics.org/Volume_4/PDF/v4i2r17.pdf"&gt;(pdf)&lt;/a&gt; by Doris Schattschneider describes the idea more fully. In the Symmetry Tile plug-in, if the &lt;code&gt;bdpq string&lt;/code&gt; entry is left blank, choosing the &lt;code&gt;Escher's Potato Game&lt;/code&gt; option will produce from the user's selection a random pattern conforming to the rules of the Potato Game.&lt;/p&gt;
&lt;p&gt;If the &lt;code&gt;bdpq string&lt;/code&gt; entry is filled with an appropriate string that string will be used to construct an image from the user's selection.&lt;/p&gt;
&lt;p&gt;&lt;a name="bdpq"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;How to write a bdpq string&lt;/h3&gt;
&lt;p&gt;The "bdpq" notation is a useful shorthand to describe patterns built from square and rectangular cells.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;bdpq string&lt;/code&gt; entry takes a string similar  to &lt;code&gt;bq|qb&lt;/code&gt; and builds a tile for a pattern based on the user selected rectangular cell.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;The&lt;/span&gt; &lt;span class="n"&gt;syntax&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;  
    &lt;span class="n"&gt;b&lt;/span&gt;  &lt;span class="n"&gt;is&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;original&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt; &lt;span class="n"&gt;selected&lt;/span&gt; &lt;span class="n"&gt;cell&lt;/span&gt;
    &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="n"&gt;is&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;cell&lt;/span&gt; &lt;span class="n"&gt;flipped&lt;/span&gt; &lt;span class="n"&gt;horizontally&lt;/span&gt;  
    &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="n"&gt;is&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;cell&lt;/span&gt; &lt;span class="n"&gt;flipped&lt;/span&gt; &lt;span class="n"&gt;vertically&lt;/span&gt;  
    &lt;span class="n"&gt;q&lt;/span&gt; &lt;span class="n"&gt;is&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;cell&lt;/span&gt; &lt;span class="n"&gt;rotated&lt;/span&gt; &lt;span class="mi"&gt;180&lt;/span&gt; &lt;span class="n"&gt;deg&lt;/span&gt;

    &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;denotes&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt;

&lt;span class="n"&gt;That&lt;/span&gt; &lt;span class="n"&gt;is&lt;/span&gt; &lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;bq&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;qb&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt; &lt;span class="n"&gt;will&lt;/span&gt; &lt;span class="n"&gt;build&lt;/span&gt; &lt;span class="n"&gt;this&lt;/span&gt; &lt;span class="n"&gt;tile&lt;/span&gt;

&lt;span class="n"&gt;bq&lt;/span&gt;  
&lt;span class="n"&gt;qb&lt;/span&gt;

&lt;span class="n"&gt;and&lt;/span&gt; &lt;span class="n"&gt;hence&lt;/span&gt; &lt;span class="n"&gt;this&lt;/span&gt; &lt;span class="n"&gt;pattern&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;symmetry&lt;/span&gt; &lt;span class="n"&gt;group&lt;/span&gt; &lt;span class="n"&gt;p2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;bqbqbq&lt;/span&gt;
&lt;span class="n"&gt;qbqbqb&lt;/span&gt;
&lt;span class="n"&gt;bqbqbq&lt;/span&gt;
&lt;span class="n"&gt;qbqbqb&lt;/span&gt;

&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;q&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;  &lt;span class="n"&gt;represent&lt;/span&gt; &lt;span class="n"&gt;each&lt;/span&gt; &lt;span class="n"&gt;cell&lt;/span&gt; &lt;span class="n"&gt;rotated&lt;/span&gt; &lt;span class="mi"&gt;90&lt;/span&gt; &lt;span class="n"&gt;deg&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;clockwise&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If the original user selection contains the letter 'b', then if the cell is flipped around a vertical axis it will look like the letter 'd'. If the letter 'b' is flipped around the horizontal axis it will look like the letter 'p'. if the letter 'b' is rotated 180 degrees it will look like the letter 'q'. (this depends a bit on the font of course).&lt;/p&gt;
&lt;p&gt;If the original cell is square then 90 degree rotations of copies of it can also be used to build a tile from the cell. Unfortunately there are no suitable letters to easily describe these and I've chosen to call these cells 'b+', 'd+', 'p+' and 'q+'. Each is the respective cell rotated 90 degrees clockwise.&lt;/p&gt;
&lt;p&gt;The eight different variations of the original tile are shown here.&lt;/p&gt;
&lt;p&gt;&lt;img alt="bdpq cells" src="images/bdpq_cells.png" /&gt;&lt;/p&gt;
&lt;p&gt;The string can be arbitrarily long, but each row should have the same number of cells. The plug-in does not check to see whether the bdpq string is properly formed. Odd results will probably occur for odd strings.&lt;/p&gt;
&lt;p&gt;If the &lt;code&gt;bdpq string&lt;/code&gt; entry is blank when the &lt;code&gt;Escher's Potato Game&lt;/code&gt; option is chosen the plug-in will make up a tile from  4 cells in 2 rows of 2. Each cell will be picked from a random selection of the b, b+, d, d+, p, p+, q, q+ transformations of the original selection. The string used can be seen in the file name of the new image. (the '+' sign is replaced by a 't' and the '|' by a 'l')&lt;/p&gt;
&lt;p&gt;As an example this initial cell.&lt;/p&gt;
&lt;p&gt;&lt;img alt="epg_cell.png" src="images/epg_cell.png" /&gt;&lt;/p&gt;
&lt;p&gt;and &lt;code&gt;bdb+d+|pqp+q+&lt;/code&gt; entered into the &lt;code&gt;bdpq string&lt;/code&gt; entry, produces this pattern&lt;/p&gt;
&lt;p&gt;&lt;img alt="epg_bdbtdtlpqptqt.png" src="images/epg_bdbtdtlpqptqt.png" /&gt;&lt;/p&gt;
&lt;h3&gt;Extra tip:&lt;/h3&gt;
&lt;p&gt;If after generating 40 images you want to save them all, here is some code to type into the python console. (Filters&amp;gt;Python-Fu&amp;gt;Console)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="s-Atom"&gt;for&lt;/span&gt; &lt;span class="s-Atom"&gt;img&lt;/span&gt; &lt;span class="s-Atom"&gt;in&lt;/span&gt; &lt;span class="s-Atom"&gt;gimp&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;image_list&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="s-Atom"&gt;:&lt;/span&gt;
   &lt;span class="s-Atom"&gt;new_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/tmp/&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s-Atom"&gt;img&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="s-Atom"&gt;name&lt;/span&gt;&lt;span class="p"&gt;[:-&lt;/span&gt;&lt;span class="m"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;.png&amp;quot;&lt;/span&gt;
   &lt;span class="s-Atom"&gt;pdb&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;gimp_file_save&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s-Atom"&gt;img&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s-Atom"&gt;img&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="s-Atom"&gt;layers&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s-Atom"&gt;new_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s-Atom"&gt;new_name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;There ought to be a plug-in for saving all the images...&lt;/p&gt;
&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sat, 05 Jul 2014 22:00:00 +1200</pubDate><guid>tag:www.elfnor.com,2014-07-05:Symmetry Tile plug-in for GIMP.html</guid><category>make</category><category>think</category><category>symmetrytile</category></item><item><title>Image alignment with markdown</title><link>http://www.elfnor.com/image-alignment-with-markdown.html</link><description>&lt;p&gt;The standard syntax for inserting an image into a markdown document &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;![avatar]({filename}/images/El_Avatar2.jpeg)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;produces this html:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;p&amp;gt;&amp;lt;img&lt;/span&gt; &lt;span class="na"&gt;alt=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;avatar&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;./images/El_Avatar2.jpeg&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and aligns an image to the left margin.&lt;/p&gt;
&lt;p&gt;&lt;img alt="avatar" src="http://www.elfnor.com/images/El_Avatar2.jpeg" /&gt;&lt;/p&gt;
&lt;p&gt;The text then continues underneath the image.&lt;/p&gt;
&lt;p&gt;To float an image left or right so that the text flows around the image you can include a style in the attribute list after the image filename.  Pelican automatically has the Attribute Lists extension to markdown enabled.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;![avatar]({filename}/images/El_Avatar2_face_left.jpeg){: style=&amp;quot;float:right; margin: 20px 20px&amp;quot;}
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;produces this html:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;p&amp;gt;&amp;lt;img&lt;/span&gt; &lt;span class="na"&gt;alt=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;avatar&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;./images/El_Avatar2_face_left.jpeg&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;style=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;float:right; margin: 20px 20px&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;p&gt;&lt;img alt="avatar" src="http://www.elfnor.com/images/El_Avatar2_face_left.jpeg" style="float:right; margin: 20px 20px" /&gt;&lt;/p&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.&lt;/p&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img alt="avatar" src="http://www.elfnor.com/images/El_Avatar2.jpeg" style="float:left; margin: 20px 20px" /&gt;&lt;/p&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.&lt;/p&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Better practive would be to define a pair of styles in the &lt;code&gt;main.css&lt;/code&gt; file:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;/* Images */&lt;/span&gt;
&lt;span class="nc"&gt;.floatright&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;float&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;right&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;margin&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;20px&lt;/span&gt; &lt;span class="m"&gt;20px&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;border&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;2px&lt;/span&gt; &lt;span class="k"&gt;solid&lt;/span&gt; &lt;span class="m"&gt;#ccc&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="nc"&gt;.floatleft&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;float&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;left&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;margin&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;20px&lt;/span&gt; &lt;span class="m"&gt;20px&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;border&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;2px&lt;/span&gt; &lt;span class="k"&gt;solid&lt;/span&gt; &lt;span class="m"&gt;#ccc&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then reference this in the markdown as follows:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;![avatar]({filename}/images/El_Avatar2_face_left.jpeg){: .floatright}
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;p&gt;&lt;img alt="avatar" class="floatright" src="http://www.elfnor.com/images/El_Avatar2_face_left.jpeg" /&gt;&lt;/p&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.&lt;/p&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;There is a pelican plugin called &lt;a href="http://duncanlock.net/blog/2013/05/29/better-figures-images-plugin-for-pelican/"&gt;Better Figures and Images&lt;/a&gt; but it seems only designed for writing in reStructured Text not markdown.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sat, 21 Jun 2014 22:00:00 +1200</pubDate><guid>tag:www.elfnor.com,2014-06-21:image-alignment-with-markdown.html</guid><category>think</category><category>pelican</category><category>markdown</category></item><item><title>Pelican and markdown styling cheat-sheet</title><link>http://www.elfnor.com/pelican-and-markdown-styling-cheat-sheet.html</link><description>&lt;p&gt;A &lt;a href="http://docs.getpelican.com"&gt;Pelican&lt;/a&gt; blog consists of:  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;markdown&lt;/strong&gt; text files containing &lt;strong&gt;content&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; jinga2&lt;/strong&gt; html template files defining the pages &lt;strong&gt;layout&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CSS&lt;/strong&gt; style file that determine how the page elements &lt;strong&gt;look&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These elements are processed by the Pelican python software to produce the static html pages that make up this blog.&lt;/p&gt;
&lt;p&gt;Lots of blogs (I used &lt;a href="http://www.circuidipity.com/github-pages.html"&gt;this one&lt;/a&gt; mainly) have very good information on installing Pelican. Many &lt;a href="http://www.krisyu.org/blog/posts/2013/06/markdown-and-latex-reference"&gt;for example&lt;/a&gt; also have the markdown codes used in text files to define what parts of the text are code blocks, what parts are quotes. But I couldn't find a post that described where and how to edit the CSS style files that determine how the the different elements look on the finished blog.&lt;/p&gt;
&lt;p&gt;I'll try and write that post. &lt;/p&gt;
&lt;p&gt;A warning: I'm fairly new and no expert on html or CSS and most of this information comes from poking pelican themes and seeing what happens. Most of this should apply to any Pelican theme, but mostly I'll be fiddling about with the pelican-simplegrey theme.&lt;/p&gt;
&lt;h2&gt;In-line Code&lt;/h2&gt;
&lt;p&gt;This is text such as &lt;code&gt;this&lt;/code&gt; that is normally used for a short piece of code in a a paragraph. It is enclosed in back quote marks, the key in the extreme top left of a US keyboard.&lt;/p&gt;
&lt;p&gt;It might also be used when a variable name or file name &lt;code&gt;~\file.txt&lt;/code&gt; is referred to in a paragraph.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;This is text such as `this` that is normally...
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The static html produced by Pelican is:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;p&amp;gt;&lt;/span&gt;This is text such as &lt;span class="nt"&gt;&amp;lt;code&amp;gt;&lt;/span&gt;this&lt;span class="nt"&gt;&amp;lt;/code&amp;gt;&lt;/span&gt; that is normally used for a short piece of code in a a paragraph. &lt;span class="nt"&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This format of the in-line code element is given by a piece of CSS such as this, included in the theme &lt;code&gt;main.css&lt;/code&gt; or &lt;code&gt;style.css&lt;/code&gt; file&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;code&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;font-family&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Source Code Pro&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="k"&gt;monospace&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;font-size&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;0.9em&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;font-style&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;normal&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;letter-spacing&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;0.015em&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Code Blocks&lt;/h2&gt;
&lt;p&gt;This is a block set of from the main text, normally containing a longer piece of code.
The blocks can be defined in a number of different ways, indenting, four &lt;code&gt;~~~~&lt;/code&gt;, but I'll show examples with triple back quote marks (```).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;```  
# python code  
mystr = &amp;#39;Hello world&amp;#39;  
print(&amp;#39;%s&amp;#39;%(mystr))  
```   
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;produces this html:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;highlight&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;pre&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;c&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;# python code&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;n&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;mystr&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt; &lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;o&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;=&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt; &lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;s&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;#39;&lt;/span&gt;Hello world&lt;span class="ni"&gt;&amp;amp;#39;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;k&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;print&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;p&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;(&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;s&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;#39;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;si&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;%s&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;s&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;#39;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;o&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;%&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;p&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;(&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;n&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;mystr&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;p&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;))&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and this output&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# python code&lt;/span&gt;
&lt;span class="n"&gt;mystr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Hello world&amp;#39;&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mystr&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The style for the &lt;code&gt;pre&lt;/code&gt; element is defined in the &lt;code&gt;main.css&lt;/code&gt;. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;pre&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;font-family&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Source Code Pro&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="k"&gt;monospace&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;background&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;none&lt;/span&gt; &lt;span class="k"&gt;repeat&lt;/span&gt; &lt;span class="k"&gt;scroll&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="m"&gt;#F0F0F0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;border&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;radius&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;2px&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;font-size&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;0.9em&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;font-style&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;normal&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;letter-spacing&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;0.015em&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;line-height&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;130&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;padding&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;0.7em&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;white-space&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;pre&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;wrap&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;wrap&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;break&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and mostly defines fonts and backgrounds. All the span elements are produced by pygments code and coloured according to the css normally stored in &lt;code&gt;pygments.css&lt;/code&gt;.  The easiest way to change this is to use a predefined css from another style (pelican-bootstrap3 has lots).&lt;/p&gt;
&lt;p&gt;To add line numbers to the displayed code block use &lt;code&gt;#!&lt;/code&gt; at the start of the first line of code:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;```python  
#! python code  
mystr = &amp;#39;Hello world&amp;#39;  
print(&amp;#39;%s&amp;#39;%(mystr))  
```   
&lt;/pre&gt;&lt;/div&gt;


&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;#! python code  &lt;/span&gt;
&lt;span class="n"&gt;mystr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Hello world&amp;#39;&lt;/span&gt;  
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mystr&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;  
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;h2&gt;Block Quotes&lt;/h2&gt;
&lt;p&gt;Blockquotes can be indicated with &amp;gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Here's a blockquote.&lt;/p&gt;
&lt;p&gt;This a much longer multi paragraph block quote that is intended to extend over multiple lines.  This a much longer block quote that is intended to extend over multiple lines.  This a much longer block quote that is intended to extend over multiple lines. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&amp;gt; Here&amp;#39;s a blockquote.

&amp;gt; This a much longer multi paragraph block quote that is intended to extend over multiple lines.  This a much longer block quote that is intended to extend over multiple lines.  This a much longer block quote that is intended to extend over multiple lines. 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;produced by this html:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;blockquote&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;p&amp;gt;&lt;/span&gt;Here&amp;#39;s a blockquote.&lt;span class="nt"&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;p&amp;gt;&lt;/span&gt;This a much longer multi paragraph block quote that is intended to extend over multiple lines.  This a much longer block quote that is intended to extend over multiple lines.  This a much longer block quote that is intended to extend over multiple lines. &lt;span class="nt"&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/blockquote&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The style for the &lt;code&gt;blockquote&lt;/code&gt; element is defined in the &lt;code&gt;main.css&lt;/code&gt;. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;blockquote&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;font-style&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;italic&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;margin-top&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;10px&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;margin-bottom&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;10px&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;margin-left&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;20px&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;padding-left&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;15px&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;border-left&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;3px&lt;/span&gt; &lt;span class="k"&gt;solid&lt;/span&gt; &lt;span class="m"&gt;#ccc&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Attribute lists&lt;/h2&gt;
&lt;p&gt;If you want to have several different types of an element, each with its own style, you can use attribute lists. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;For example different coloured in-line `code in red`{: .red} and `green`{: .green}.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;For example different coloured in-line &lt;code class="red"&gt;code in red&lt;/code&gt; and &lt;code class="green"&gt;green&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Html:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;p&amp;gt;&lt;/span&gt;For example different coloured in-line &lt;span class="nt"&gt;&amp;lt;code&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;red&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;code in red&lt;span class="nt"&gt;&amp;lt;/code&amp;gt;&lt;/span&gt; and &lt;span class="nt"&gt;&amp;lt;code&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;green&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;green&lt;span class="nt"&gt;&amp;lt;/code&amp;gt;&lt;/span&gt;.&lt;span class="nt"&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Along with the following css in &lt;code&gt;main.css&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;code&lt;/span&gt;&lt;span class="nc"&gt;.red&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="k"&gt;color&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="nb"&gt;red&lt;/span&gt;&lt;span class="p"&gt;;}&lt;/span&gt;
&lt;span class="nt"&gt;code&lt;/span&gt;&lt;span class="nc"&gt;.green&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="k"&gt;color&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;green&lt;/span&gt;&lt;span class="p"&gt;;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Headings&lt;/h2&gt;
&lt;p&gt;Headings can be made in markdown by underlining with equal signs (===========) to give h1 tags, underlining with underscores (---------) to give h2 tags, or by enclosing the headings with hash (#Heading#) symbols. The number of hash symbols gives the heading depth.&lt;/p&gt;
&lt;h1&gt;H1&lt;/h1&gt;
&lt;h1&gt;H1&lt;/h1&gt;
&lt;h2&gt;H2&lt;/h2&gt;
&lt;h2&gt;H2&lt;/h2&gt;
&lt;h3&gt;H3&lt;/h3&gt;
&lt;p&gt;markdown&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;#H1#
H1
==
##H2##
H2
--
###H3###
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;HTML&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;h1&amp;gt;&lt;/span&gt;H1&lt;span class="nt"&gt;&amp;lt;/h1&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;h1&amp;gt;&lt;/span&gt;H1&lt;span class="nt"&gt;&amp;lt;/h1&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;h2&amp;gt;&lt;/span&gt;H2&lt;span class="nt"&gt;&amp;lt;/h2&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;h2&amp;gt;&lt;/span&gt;H2&lt;span class="nt"&gt;&amp;lt;/h2&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;h3&amp;gt;&lt;/span&gt;H3&lt;span class="nt"&gt;&amp;lt;/h3&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;CSS&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;h2&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;h3&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;h4&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;h5&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;h6&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;color&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;#711&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    
    &lt;span class="k"&gt;font-family&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Source Sans Pro&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="k"&gt;sans-serif&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;font-weight&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;400&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;text-shadow&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;0.1em&lt;/span&gt; &lt;span class="m"&gt;0.1em&lt;/span&gt; &lt;span class="m"&gt;0.1em&lt;/span&gt; &lt;span class="m"&gt;#EFEFEF&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;line-height&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;125&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="nt"&gt;h1&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;font-size&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;2em&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;margin&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;0.67em&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;padding&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;0.7em&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="m"&gt;0.3em&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Learning more&lt;/h2&gt;
&lt;p&gt;I could carry on with examples for styling other elements such as lists and links, but the learning process is fairly straight forward.
On your blog, or someone else's, right click on an element (Firefox or Chrome) and choose inspect element. A window opens at the bottom of the screen with the html for the element highlighted on the left and the style css highlighted on the right. If the element has its own css, look that up in your theme's css files and alter it to suit. A web search will give you lots of examples for styling each element. If all of the css is inherited from &lt;code&gt;body&lt;/code&gt; for your chosen element then look at the tags that wrap the element in the html file. Add a section to the css for that type of element tag and continue as above.&lt;/p&gt;
&lt;p&gt;I'll follow this up with a post on the basics of layout using Jinja2 templates.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Thu, 19 Jun 2014 22:00:00 +1200</pubDate><guid>tag:www.elfnor.com,2014-06-19:pelican-and-markdown-styling-cheat-sheet.html</guid><category>pelican</category><category>markdown</category></item><item><title>Cat Scan</title><link>http://www.elfnor.com/Cat%20Scan.html</link><description>&lt;p&gt;The next step on from all the &lt;a href="http://www.elfnor.com/material-cats.html"&gt;Material Cats&lt;/a&gt; was to make a cat on my 3D printer (an &lt;a href="https://www.ultimaker.com/"&gt;Ultimaker original&lt;/a&gt;). This required a 3D model of the cat. Years ago I played around with  a home built laser scanner using the software from this project (&lt;a href="http://www.david-3d.com/"&gt;David laser scanner&lt;/a&gt;), but the model results required a lot of painstaking clean up and I moved on to something else. Also 3d scanning is a bit close to my day job to spend too much of my own time on it.&lt;/p&gt;
&lt;p&gt;More recently I've seen lots of blog posts on making 3D models from large collections of photos as well as using devices based on Kinect sensor.&lt;/p&gt;
&lt;p&gt;The most mentioned software for making a model from photos (photogrametry) is &lt;a href="http://www.123dapp.com/catch"&gt;Autodesk's 123d Catch&lt;/a&gt;. I gave it a go using the plaster cat as a model and was really surprised at the quality of the mesh I got for the effort put in.&lt;/p&gt;
&lt;p&gt;Basically you take a large number of photos of an object from all angles, then feed these into the software which analyses them. By matching points in the photos, the software determines where the camera was for each shot and what the 3D shape of the object is.&lt;/p&gt;
&lt;p&gt;The first step is to take photos. Like a lot of photo shoots its best to put some effort in to getting this right as fixing bad photos always takes longer than taking good photos in the first place. These &lt;a href="https://i.materialise.com/blog/entry/guest-blog-deepak-mehta-123dcatch-it-if-you-can"&gt;tips&lt;/a&gt; and &lt;a href="http://forum.123dapp.com/123d/topics/shooting_tips_for_123d_catch"&gt;these&lt;/a&gt; are a good place to start. I choose to take photos of the plaster model of the cat because it had an evenly coloured non reflective surface. I used some plasticine to stick it to the top of a bottle so I'd be able to get photos of the underside of the cat.&lt;/p&gt;
&lt;p&gt;Some people use fancy rigs for the camera but I just used a mini-tripod and worked on the floor. I drew a circle on the newspaper and marked of 18 positions even divisions around the circle. For each photo I placed the front leg of the tripod on a division and took a photo. The newspaper gives lots of detail in each shot for the software to work out camera positions. I took photos at three heights, one level with the cat, one looking doen on it and one looking up. I used a couple of desk lamps to evenly light the model. I made sure each photo was taken with the same zoom level, but didn't take any precautions to fix the exposure or aperture. (I was using an Olympus mu 790).&lt;/p&gt;
&lt;p&gt;&lt;img alt="Cat Scan Setup" src="http://www.elfnor.com/images/setup_cat_scan.jpeg" /&gt;&lt;/p&gt;
&lt;p&gt;This gave me 54 photos. Some of these photos were out of focus so I deleted them. This left me with 49 OK photos.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Example Photo" src="http://www.elfnor.com/images/example_photo.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;The autodesk web app requires google chrome on a windows machine. This was a nuisaance as I almost only run linux at home. But using a borrowed machine I used the web app to upload the photos. The instructions provided are pretty straight forward.&lt;/p&gt;
&lt;p&gt;Upload the photos:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Upload screenshot" src="http://www.elfnor.com/images/123_screen-02.png" /&gt;&lt;/p&gt;
&lt;p&gt;The model produced has the 3D mesh with the colours from the photos mapped onto the mesh.&lt;/p&gt;
&lt;p&gt;&lt;img alt="123D screenshot" src="http://www.elfnor.com/images/123_screen-01.png" /&gt;&lt;/p&gt;
&lt;p&gt;The 3D model produced includes the newspaper part of the bookcase and some of the couch. The cat sitting on its bottle is the very small white piece in the centre of the above screen capture.&lt;/p&gt;
&lt;p&gt;I installed and played around with the autodesk tools for cleaning up the image, but found them a bit cumbersome to use. Instead I exported the model as a stl file and cleaned it up in &lt;a href="http://www.blender.org"&gt;Blender&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Blender screenshot" src="http://www.elfnor.com/images/screen-02_web.png" /&gt;&lt;/p&gt;
&lt;p&gt;The model mesh imported into blender with the cat and support selected.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Blender screenshot 2" src="http://www.elfnor.com/images/screen-03_web.png" /&gt;&lt;/p&gt;
&lt;p&gt;Everything but the cat and support deleted&lt;/p&gt;
&lt;p&gt;First I deleted everything extra in the imported mesh.&lt;/p&gt;
&lt;p&gt;I then used a boolean operation with a cube to remove the support from the cat and give it a flat base suitable for printing.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Blender screenshot 3" src="http://www.elfnor.com/images/screen-04_web.png" /&gt;&lt;/p&gt;
&lt;p&gt;There were a few pimple shaped artifacts and a few dings which I cleaned up by deleting mesh triangles and then filling the gap. I also smoothed the mesh a bit and scaled it to match the original size.&lt;/p&gt;
&lt;p&gt;To distinguish cats made from the digital model from the cats made from the silicon mould, I transformed the mesh to its mirror image.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Blender screenshot 4" src="http://www.elfnor.com/images/cat_scan5-blend_web.png" /&gt;&lt;/p&gt;
&lt;p&gt;Here's the final digital model and a set of three printed cats at 100%, 75% and 50% of original size. Making scale copies is so much easier in a digital process.&lt;/p&gt;
&lt;p&gt;&lt;img alt="PLA Cat prints" src="http://www.elfnor.com/images/cat_scan_pla.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;The printed cat is reasonably similar to the original, the indent above the tail is not nearly as deep or as sharp as the original. A concave indent in a object is harder for photogrametry to capture than the outside contour of the object.&lt;/p&gt;
&lt;p&gt;Overall I was very pleased with how well the model turned out for the effort involved. Particularly how little clean up the mesh required.&lt;/p&gt;
&lt;p&gt;Next I'd like to try the &lt;a href="http://arc-team-open-research.blogspot.com.br/2012/12/how-to-make-3d-scan-with-pictures-and.html"&gt;open source alternatives&lt;/a&gt;, particularly the python photogrametry toolbox &lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Fri, 13 Jun 2014 22:00:00 +1200</pubDate><guid>tag:www.elfnor.com,2014-06-13:Cat Scan.html</guid><category>cats</category><category>make</category><category>materials</category><category>3D printing</category></item><item><title>Material Cats</title><link>http://www.elfnor.com/material-cats.html</link><description>&lt;p&gt;I had a friend who after some self-reflection decided his primary hobby wasn't wood work but was collecting wood working tools. This left him feeling much less guilty about the number of wood working planes he had in his shed.&lt;/p&gt;
&lt;p&gt;If I was honest my major hobby or interest is collecting techniques for making things as much as actually making stuff. I've been to a lot of workshops and researched a lot of techniques on the web. A while back I started documenting some of these using the same cat mould for any technique that I possibly could.&lt;/p&gt;
&lt;p&gt;Here's the collection so far:&lt;/p&gt;
&lt;p&gt;&lt;img alt="collected cats" src="http://www.elfnor.com/images/collected_cats.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;The original cat is the grey and brown cat shown here. She was modeled in clay, burnished and saggar fired in an electric kiln.&lt;/p&gt;
&lt;p&gt;&lt;img alt="raku cat" src="http://www.elfnor.com/images/raku_cat.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;For a saggar firing the piece is placed inside a larger pot filled with sawdust, wood shavings and colourants such as copper sulphate and copper wire. The pot is sealed and fired in an electric kiln. This give a reducing atmosphere (not enough oxygen for clean burning). The colourants used in ceramics, produce different colours in a reducing atmosphere than they do in a normal electric kiln firing. The process produces a bit of smoke outside the kiln. The kiln I fired this in was in a garage on a school site so we got away with it. The kilns I use now are in a community arts facility inside a building and I can't do saggar firings there. I like the randomness of this type of process, the result isn't known until the piece is taken from the kiln. Pit firing and raku firing are other processes I enjoy for their random or serendipitous results.&lt;/p&gt;
&lt;p&gt;&lt;img alt="cat mould" src="http://www.elfnor.com/images/cat_mould.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;The mould is made in two parts. The inner part is flexible and is made with co-polymer sealant (the clear stuff you buy at the hardware store for sealing bathroom tiles). Professional mould makers use expensive (at least here in NZ) two-part silicon moulding compounds. Sealant is way cheaper and easier to get. The cons are its thick consistency make it easy to trap air against the mould, giving unsightly pimples on the casting. Also the  sealant sets by releasing a gas, so thick layers can take a long time (or forever) to cure. Years ago I picked up a tip&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1" rel="footnote"&gt;1&lt;/a&gt;&lt;/sup&gt; to add mineral turpentine to the sealant to thin it. This can then be painted on as a thin layer on to the object being cast. Allow this first thin layer to dry. It will take a lot longer than plain sealant due to the turps. When its dry build up the mould with more plain sealant filling in all the gaps until there are no undercuts. Let this dry again.&lt;/p&gt;
&lt;p&gt;When the sealant is dry an outer "mother mould" of plaster is made to support the sealant inner mould.&lt;/p&gt;
&lt;p&gt;I follow this post up with a cat photo and explanation for each material. There's bronze and aluminum, leather and paper mache as well as various plastics and ceramics. The next step is to produce a digital model to try with different digital fabrication (3d printing, laser cutting layers, milling?...) processes.&lt;/p&gt;
&lt;div class="footnote"&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;I got this tip on thinning the sealant with turps, years ago from the blog of a trans-gender engineer who was experimenting with cheap ways to make falsies. The blog was a fascinating mix of their work on the west coast of the US, their experiments with mould making and their trips to Las Vegas to test the latest version.&amp;#160;&lt;a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sun, 23 Feb 2014 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2014-02-23:material-cats.html</guid><category>cats</category><category>materials</category></item><item><title>The almost invisible kite</title><link>http://www.elfnor.com/the-almost-invisible-kite.html</link><description>&lt;p&gt;&lt;img alt="parasled" class="floatleft" src="http://www.elfnor.com/images/parasled.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;Polythene sheeting, the type you buy at a garden shop that's about 125 μm thick, is great for kite making. It comes in black and clear, the black is boring but the clear can be a bit hard to photograph against the sky.&lt;/p&gt;
&lt;p&gt;This kite is a cross between a sled and a para foil. I based it on plans found &lt;a href="http://www.kiteplans.org/pln_1074/"&gt;here&lt;/a&gt;. The instructions are in French but fairly easy to follow with the help of a dictionary or google translate if you don't read French.&lt;/p&gt;
&lt;p&gt;I combined the pattern for the Dos (back) and the tubes into one piece. Draw them up directly onto the polythene with a felt pen. If you're likely to make more than one it might be worth making a paper pattern. Draw the seam lines onto the sheet. Then cut the two pieces out of the polythene and sew them together with four lines of machine stitching.&lt;/p&gt;
&lt;p&gt;The polythene is pretty slippery on the sewing machine. Use a long stitch length and keep one hand behind the needle and one in front feeding the material through.&lt;/p&gt;
&lt;p&gt;I reinforced the front edge with some left over end lengths of line trimmer line. This is nylon line about 2.5 mm in diameter used in line trimmer for cutting weeds. Pick some up at the garden shop when you get the polythene if you haven' got any sitting about.  I stuck the line to the front edges with squares of duct tape. These didn't hold all that well so I stapled through each square to hold it in place.&lt;/p&gt;
&lt;p&gt;You'll also need a drogue, mine is a truncated cone, about 400 mm long, top circumference 500 mm, bottom circumference 300 mm. Sew two sections together and add line trimmer line along the leading edge as for the main kite.&lt;/p&gt;
&lt;p&gt;That's it. No spars, or dowels. It flies fairly well in most winds. I intend to use it to do some kite photography. Maybe with some first person view camera gear.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Fri, 31 Jan 2014 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2014-01-31:the-almost-invisible-kite.html</guid><category>kites</category></item><item><title>Software for managing (e)books</title><link>http://www.elfnor.com/software-for-managing-ebooks.html</link><description>&lt;p&gt;Adding the links to the &lt;a href="http://www.elfnor.com/reading-lists.html"&gt;last post&lt;/a&gt;, I realised I'd dropped a lot of names of bits of software I use into the post. Here's a list with an explanation of what I do with each:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.readerware.com"&gt;Readerware&lt;/a&gt; - &lt;a href="http://www.readerware.com"&gt;http://www.readerware.com&lt;/a&gt;
We use this to keep a computer list of the paper books we own. This is both for interest - it's faster to search the database than to search the shelves - and for insurance purposes.&lt;/p&gt;
&lt;p&gt;To add books to Readerware you only need to enter ISBN numbers rather than the whole author, title etc. The software then looks the ISBN up on line and downloads information on the book including the tile, author, synopsis, cover etc. The initial entry of the majority of our books was done with a cuecat bar-code scanner. With this you scan the book's bar-code, the software converts this to an ISBN and then looks up the books details from there.&lt;/p&gt;
&lt;p&gt;Readerware is commercial software and these days I'd probably choose an open source alternative like &lt;a href="http://www.zotero.org/"&gt;Zotero&lt;/a&gt;‎. I use Zotero mostly for pdfs of scientific papers but it can do books via ISBN.  &lt;a href="http://www.datacrow.net"&gt;Datacrow&lt;/a&gt;, and &lt;a href="http://tellico-project.org/"&gt;Tellico&lt;/a&gt; also look to have similar functionality to Readerware.&lt;/p&gt;
&lt;p&gt;Related: I have used &lt;a href="http://griffith.cc"&gt;Griffith&lt;/a&gt; which is a similar open source program for cataloging DVD collections.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.dotepub.com"&gt;dotEPUB&lt;/a&gt; - &lt;a href="http://www.dotepub.com"&gt;http://www.dotepub.com&lt;/a&gt;
DotEPUB works as a bookmarklet (a bookmark with some javascript code included) that you add to the bookmark bar or list in your browser. On a web page click the dotEPUB bookmarklet and the main text from the page is saved as an epub or mobi to transfer to your ereader. dotEPUB strips a lot of the extras (including images) from the page for a nice clean ebook. This is great for on-line short stories or long articles.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.grabmybooks.com"&gt;grabmybooks&lt;/a&gt; - &lt;a href="http://www.grabmybooks.com"&gt;http://www.grabmybooks.com&lt;/a&gt;
Grabmybooks works similarly to dotEPUB but is installed as an extension in Firefox. It allows more control over which part of the web page is grabbed and handles pages with lots of images well. It allows for multiple web pages to be grabbed as separate articles or chapters to one book. This is great for how-to articles, or for capturing someone's page of links to their best web reads.&lt;/p&gt;
&lt;p&gt;With grabmybooks you can also edit the ebook or add more articles to it from within firefox. On its own it saves in the epub format, if you have calibre (see below) installed you can also save your ebook in the mobi format.&lt;/p&gt;
&lt;p&gt;There are a number of other similar services around including &lt;a href="http://getpocket.com/‎"&gt;Pocket&lt;/a&gt;,  &lt;a href="https://www.readability.com"&gt;Readability&lt;/a&gt;,  &lt;a href="http://www.instapaper.com/"&gt;Instapaper&lt;/a&gt; but these all require you to create an account with the provider. This seems a bit invasive but come with web storage, web syncing and social media type functions.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://calibre-ebook.com/"&gt;Calibre&lt;/a&gt; - &lt;a href="http://calibre-ebook.com/"&gt;http://calibre-ebook.com/&lt;/a&gt;
Calibre is open source software for managing ebook collections. It is also good at converting between ebook formats, epub to mobi, or even docx or pdf to mobi.&lt;/p&gt;
&lt;p&gt;Calibre handles syncing between the ebook collection on your PC and the files on your ebook and includes an ebook viewer that can handle lots of formats. I store all my bought ebooks, and those created with grabmybooks and dotEPUB in calibre. You can also add user fields to the database which I'm using to classify the authors by country and gender.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.zotero.org/"&gt;Zotero&lt;/a&gt;‎- &lt;a href="http://www.zotero.org/"&gt;http://www.zotero.org/&lt;/a&gt;
Zotero is an amazing open source tool for managing research papers. It can also be used for managing many types of media. It installs as a firefox extension or as a plug-in plus standalone app for other browsers.&lt;/p&gt;
&lt;p&gt;When on a web page that lists papers, zotero provides an icon to click to save all the info (metadata) on the paper to your zotero database. You can also save the full pdf of the paper to your database/library. The database can be  searched on the full pdf text. The bibliographic reference part of a paper you are writing can easily be generated in any style needed from either within the zotero app or using plug-ins for open-office or word. If you have a pdf file you've downloaded separately, zotero can search it for meta-data and add it to your database as well.&lt;/p&gt;
&lt;p&gt;The above describes how I use zotero for managing scientific papers but it can be used for almost any type of file or to save web pages off line.  Have a look at its website for a heap more features including on line syncing of your library, adding notes to papers, or sharing a library of papers amongst a group of users.&lt;/p&gt;
&lt;p&gt;So there's a few ways to help with taming the ereading pile.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Tue, 28 Jan 2014 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2014-01-28:software-for-managing-ebooks.html</guid><category>ebook</category><category>reading</category></item><item><title>Reading Lists</title><link>http://www.elfnor.com/reading-lists.html</link><description>&lt;p&gt;I love to read and reading lists fascinate me.&lt;/p&gt;
&lt;p&gt;I bought a Kindle ereader in 2011 and its resulted in some large changes in my reading habits. I own a lot of paper books, there's 1300+ in the house according to our &lt;a href="http://www.readerware.com"&gt;Readerware&lt;/a&gt; database (databases are even fancier lists), but pre ereader most of what I read came from the local library. Every three weeks I'd come back with a pile of 6 to 8 books, at least one non-fiction and one book for looking at (art, craft photography). I'd look on the recently returned shelves, the books the librarians had put on display, and keep a special look out for local authors and witers outside the WEIRD (western, educated, industrialised, rich, democratic). So there was a lot of serendipity in what I bought home. I don't think I've been back to the library since I got the ereader.&lt;/p&gt;
&lt;p&gt;Post Kindle, the choice of potential books is huge. Not just from amazon.com. I also make use of &lt;a href="http://www.dotepub.com"&gt;dotepub&lt;/a&gt; and &lt;a href="http://grabmybooks.com"&gt;grabmybooks&lt;/a&gt; to make copies of online short stories and blogs to read later. This large choice has a downside in that I'm sure&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1" rel="footnote"&gt;1&lt;/a&gt;&lt;/sup&gt; I now read less local authors and more in the science fiction fantasy (sff) genre than previously. The upside is that if I hear about a book then I can be reading it that day&lt;sup id="fnref:2"&gt;&lt;a class="footnote-ref" href="#fn:2" rel="footnote"&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;Reading lists can be about what someone else thinks you should read (eg. "The Western Canon") or about challenges to change what or how much you read. This blogger's project &lt;a href="http://ayearofreadingtheworld.com"&gt;http://ayearofreadingtheworld.com&lt;/a&gt; where she read one book from each of the 196 countries in one year and her previus project &lt;a href="http://ayearofreadingwomen.wordpress.com/"&gt;http://ayearofreadingwomen.wordpress.com/&lt;/a&gt; really inspire me to widen my reading. Being a data freak and a rule bender I'm in the process of going through my ebook collection (stored in &lt;a href="http://calibre-ebook.com/"&gt;Calibre&lt;/a&gt; - more lists) and tagging the books with the author's country and gender. Any countries I've already bagged in the last year (maybe two years) I'll discount from the 196. After that I'm going to try and fill in the rest not with full novels but as many short stories as possible, preferably ones avaliable online so I can share. I'm sure my bias to sff will prevail and I'll also try for a 50/50 male/female split.&lt;/p&gt;
&lt;div class="footnote"&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;I think if I log on the the local library site I can download a copy of my borrowing history (more lists) and do a comparison of pre and post ereader reading. No, too geeky.&amp;#160;&lt;a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;Most books. I'll write a post soon about the odd gaps in availability of ebooks for non-USA customers on amazon.com. Also the differences in pricing and how to set up a proxy server on the amazon e3 cloud to help with these issues.&amp;#160;&lt;a class="footnote-backref" href="#fnref:2" rev="footnote" title="Jump back to footnote 2 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">elfnor</dc:creator><pubDate>Sun, 26 Jan 2014 22:00:00 +1300</pubDate><guid>tag:www.elfnor.com,2014-01-26:reading-lists.html</guid><category>ebook</category><category>reading</category></item></channel></rss>